<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>正则表达式笔记</title>
      <link href="/posts/7d3925ab/"/>
      <url>/posts/7d3925ab/</url>
      
        <content type="html"><![CDATA[<h3 id="元字符">元字符</h3><table><thead><tr class="header"><th>表达式</th><th>说明</th></tr></thead><tbody><tr class="odd"><td><code>.</code></td><td>匹配除了换行符以外的任意字符</td></tr><tr class="even"><td><code>\w</code></td><td>匹配字母或数字或下划线或汉字</td></tr><tr class="odd"><td><code>\W</code></td><td>匹配非字母或数字或下划线或汉字</td></tr><tr class="even"><td><code>\d</code></td><td>匹配数字</td></tr><tr class="odd"><td><code>\D</code></td><td>匹配非数字</td></tr></tbody></table><p>例：</p><ol type="1"><li><p>匹配有 <code>abc</code> 开头的字符串</p><figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">\babc</span><br><span class="line">^abc</span><br></pre></td></tr></tbody></table></figure></li><li><p>匹配 <code>1</code> 开头的手机号码</p><figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">^1\d\d\d\d\d\d\d\d\d\d$</span><br></pre></td></tr></tbody></table></figure></li></ol><h3 id="非打印字符">非打印字符</h3><table><colgroup><col style="width: 9%"><col style="width: 90%"></colgroup><thead><tr class="header"><th style="text-align: left;">表达式</th><th style="text-align: left;">说明</th></tr></thead><tbody><tr class="odd"><td style="text-align: left;"><code>\cx</code></td><td style="text-align: left;">匹配由 x 指明的控制字符。例如，<code>\cM</code> 匹配一个 Control-M 或回车符。<code>x</code> 的值必须为 <code>A-Z</code> 或 <code>a-z</code> 之一。否则，将 <code>c</code> 视为一个原义的<code>'c'</code> 字符。</td></tr><tr class="even"><td style="text-align: left;"><code>\f</code></td><td style="text-align: left;">匹配一个换页符。等价于 <code>\x0c</code> 和 <code>\cL</code>。</td></tr><tr class="odd"><td style="text-align: left;"><code>\n</code></td><td style="text-align: left;">匹配一个换行符。等价于 <code>\x0a</code> 和 <code>\cJ</code>。</td></tr><tr class="even"><td style="text-align: left;"><code>\r</code></td><td style="text-align: left;">匹配一个回车符。等价于 <code>\x0d</code> 和 <code>\cM</code>。</td></tr><tr class="odd"><td style="text-align: left;"><code>\s</code></td><td style="text-align: left;">匹配任何空白字符，包括空格、制表符、换页符等等。注意 Unicode 正则表达式会匹配全角空格符。</td></tr><tr class="even"><td style="text-align: left;"><code>\S</code></td><td style="text-align: left;">匹配任何非空白字符。</td></tr><tr class="odd"><td style="text-align: left;"><code>\t</code></td><td style="text-align: left;">匹配一个制表符。等价于 <code>\x09</code> 和 <code>\cI</code>。</td></tr><tr class="even"><td style="text-align: left;"><code>\v</code></td><td style="text-align: left;">匹配一个垂直制表符。等价于 <code>\x0b</code> 和 <code>\cK</code>。</td></tr></tbody></table><h3 id="定位符">定位符</h3><table><thead><tr class="header"><th>表达式</th><th>说明</th></tr></thead><tbody><tr class="odd"><td><code>\b</code></td><td>匹配单词边界，即字与空格间的位置。</td></tr><tr class="even"><td><code>\B</code></td><td>非单词边界匹配。</td></tr><tr class="odd"><td><code>^</code></td><td>匹配字符串的开始</td></tr><tr class="even"><td><code>$</code></td><td>匹配字符串的结束</td></tr></tbody></table><p>例：</p><ol type="1"><li><p>匹配 <code>Chapter</code> 中的字符串 <code>apt</code>，但不匹配 <code>aptitude</code> 中的字符串 <code>apt</code>：</p><figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">\Bapt</span><br></pre></td></tr></tbody></table></figure></li></ol><h3 id="重复限定符">重复限定符</h3><table><thead><tr class="header"><th>表达式</th><th>说明</th></tr></thead><tbody><tr class="odd"><td><code>*</code></td><td>重复 0 次或多次</td></tr><tr class="even"><td><code>+</code></td><td>重复 1 次或多次</td></tr><tr class="odd"><td><code>?</code></td><td>重复 0 次或 1 次</td></tr><tr class="even"><td><code>{n}</code></td><td>重复 n 次</td></tr><tr class="odd"><td><code>{n,}</code></td><td>重复 n 次及以上</td></tr><tr class="even"><td><code>{n,m}</code></td><td>重复 n 次到 m 次</td></tr></tbody></table><p>例：</p><ol type="1"><li><p>匹配 1 开头的手机号码</p><figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">^1\d{10}$</span><br></pre></td></tr></tbody></table></figure></li><li><p>匹配 14-18 位的银行卡号</p><figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">^\d{14,18}$</span><br></pre></td></tr></tbody></table></figure></li><li><p>匹配 <code>a</code> 开头，0 个或多个 <code>b</code> 结尾的字符串</p><figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">^ab*$</span><br></pre></td></tr></tbody></table></figure></li></ol><h3 id="分组">分组</h3><p>使用小括号 <code>()</code> 来做分组，也就是说小括号中的内容为一个整体。</p><p>例：</p><ol type="1"><li><p>匹配字符串包括 0 个及以上的 <code>ab</code> 开头</p><figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">^(ab)*</span><br></pre></td></tr></tbody></table></figure></li></ol><h3 id="中括号表达式">中括号表达式</h3><table><thead><tr class="header"><th>表达式</th><th>说明</th></tr></thead><tbody><tr class="odd"><td><code>[ ]</code></td><td>匹配 <code>[ ]</code> 内的所有字符</td></tr><tr class="even"><td><code>[^ ]</code></td><td>匹配除了 <code>[^ ]</code> 内的所有字符</td></tr></tbody></table><p>例：</p><ol type="1"><li><p><code>[ ]</code> 的使用</p><figure><img data-src="/posts/7d3925ab/image-20220212110941769.png" alt="image-20220212110941769"><figcaption>image-20220212110941769</figcaption></figure></li><li><p><code>[^ ]</code> 的使用</p><figure><img data-src="/posts/7d3925ab/image-20220212111046023.png" alt="image-20220212111046023"><figcaption>image-20220212111046023</figcaption></figure></li><li><p> 匹配字母和数字</p><figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[a-zA-Z0-9]</span><br></pre></td></tr></tbody></table></figure></li><li><p>匹配指定数字 <code>135</code></p><figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[135]</span><br></pre></td></tr></tbody></table></figure></li></ol><h3 id="转义">转义</h3><p>匹配字符串中包括了正则的关键字时，在需要转义的字符前加斜杠 <code>\</code>。</p><p>例：</p><ol type="1"><li><p>匹配字符串包括 0 个及以上的 <code>(ab)</code> 开头</p><figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">^(\(ab\))*</span><br></pre></td></tr></tbody></table></figure></li></ol><h3 id="条件或">条件或</h3><p>使用符号 <code>|</code> 来表示或，也叫做分支条件。</p><p>例：</p><ol type="1"><li><p>匹配联通的号码</p><figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">^(130|131|132|155|156|185|186|145|176)\d{8}$</span><br></pre></td></tr></tbody></table></figure></li></ol><h3 id="零宽断言">零宽断言</h3><ol type="1"><li><p>正向先行断言</p><p>匹配 <code>pattern</code> 前面的内容，不返回本身。</p><figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">(?=pattern)</span><br></pre></td></tr></tbody></table></figure><p>例：</p><p>匹配 <code>123abc123def</code> 中 <code>abc</code> 前的 <code>123</code></p><figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">123(?=abc)</span><br></pre></td></tr></tbody></table></figure></li><li><p>正向后行断言</p><p>匹配 <code>pattern</code> 后面的内容，不返回本身。</p><figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">(?&lt;=pattern)</span><br></pre></td></tr></tbody></table></figure><p>例：</p><p>匹配 <code>123abc123def</code> 中 <code>abc</code> 后的 <code>123</code></p><figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">(?&lt;=abc)123</span><br></pre></td></tr></tbody></table></figure></li><li><p>负向先行断言</p><p>匹配非 <code>pattern</code> 前面的内容，不返回本身。</p><figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">(?=pattern)</span><br></pre></td></tr></tbody></table></figure><p>例：</p><p>匹配 <code>123abc123def</code> 中不是 <code>abc</code> 前的 <code>123</code></p><figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">123(?!abc)</span><br></pre></td></tr></tbody></table></figure></li><li><p>负向先行断言</p><p>匹配非 <code>pattern</code> 后面的内容，不返回本身。</p><figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">(?&lt;!pattern)</span><br></pre></td></tr></tbody></table></figure><p>例：</p><p>匹配 <code>123abc123def</code> 中不是 <code>abc</code> 后的 <code>123</code></p><figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">(?&lt;!abc)123</span><br></pre></td></tr></tbody></table></figure></li></ol><h3 id="捕获和非捕获">捕获和非捕获</h3><p>捕获组：匹配子表达式的内容，把匹配结果保存到内存中，以深度优先进行编号，之后可以通过序号或名称来使用这些匹配结果。</p><ol type="1"><li><p>数字编号捕获组</p><figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">(pattern)</span><br></pre></td></tr></tbody></table></figure><p>例：</p><p>匹配固定电话 <code>020-88888888</code></p><figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">(0\d{2})-(\d{8})</span><br></pre></td></tr></tbody></table></figure><p>分组：</p><table><thead><tr class="header"><th>编号</th><th>分组</th><th>内容</th></tr></thead><tbody><tr class="odd"><td> 0</td><td><code>(0\d{2})-(\d{8})</code></td><td><code>020-88888888</code></td></tr><tr class="even"><td>1</td><td><code>(0\d{2})</code></td><td><code>020</code></td></tr><tr class="odd"><td>2</td><td><code>(\d{8})</code></td><td><code>88888888</code></td></tr></tbody></table></li><li><p>命名编号捕获组</p><figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">(?&lt;name&gt;pattern)</span><br></pre></td></tr></tbody></table></figure><p>例：</p><p>匹配固定电话 <code>020-88888888</code></p><figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">(?&lt;quhao&gt;0\d{2})-(?&lt;haoma&gt;\d{8})</span><br></pre></td></tr></tbody></table></figure><p>分组：</p><table><thead><tr class="header"><th>名称</th><th>分组</th><th>内容</th></tr></thead><tbody><tr class="odd"><td> 0</td><td><code>(?&lt;quhao&gt;0\d{2})-(?&lt;haoma&gt;\d{8})</code></td><td><code>020-88888888</code></td></tr><tr class="even"><td><code>quhao</code></td><td><code>(?&lt;quhao&gt;0\d{2})</code></td><td><code>020</code></td></tr><tr class="odd"><td><code>haoma</code></td><td><code>(?&lt;haoma&gt;\d{8})</code></td><td><code>88888888</code></td></tr></tbody></table></li><li><p>非捕获组</p><figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">(?:pattern)</span><br></pre></td></tr></tbody></table></figure><p>例：</p><p>匹配固定电话 <code>020-88888888</code></p><figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">(?:0\d{2})-(\d{8})</span><br></pre></td></tr></tbody></table></figure><p>分组：</p><table><thead><tr class="header"><th>编号</th><th>分组</th><th>内容</th></tr></thead><tbody><tr class="odd"><td> 0</td><td><code>(?:0\d{2})-(\d{8})</code></td><td><code>020-88888888</code></td></tr><tr class="even"><td>1</td><td><code>(\d{8})</code></td><td><code>88888888</code></td></tr></tbody></table></li></ol><h3 id="反向引用">反向引用</h3><p>引用捕获内容</p><ol type="1"><li><p>数字编号组反向引用：</p><figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">\k&lt;number&gt;</span><br><span class="line"># or</span><br><span class="line">\number</span><br></pre></td></tr></tbody></table></figure></li><li><p>命名编号组反向引用：</p><figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">\k&lt;name&gt;</span><br><span class="line"># or</span><br><span class="line">\'name'</span><br></pre></td></tr></tbody></table></figure><p>例：</p><p>匹配两个重复字符：</p><figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">(\w)\1</span><br><span class="line"># or</span><br><span class="line">(?&lt;char&gt;\w)\k&lt;char&gt;</span><br></pre></td></tr></tbody></table></figure></li></ol><h3 id="贪婪与非贪婪">贪婪与非贪婪</h3><h4 id="贪婪">贪婪</h4><p>特性：一次性读入整个字符串进行匹配，每当不匹配就舍弃最右边一个字符，继续匹配，依次匹配和舍弃（这种匹配 - 舍奔的方式也叫做回湖），直到匹配成功或者把整个字符串舍弃完为止，因此它是一种最大化的数据返回能多不会少。</p><p>重复限定符就是贪婪量词，如：</p><figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">\d{3,6}</span><br></pre></td></tr></tbody></table></figure><p>假如字符串有 6 个数字可以匹配，就全部匹配。</p><p>多个贪婪在一起时，如果字符串能满足他们各自最大成都的匹配时，就互不干扰，否则会根据深度优先原则，也就是从左到右的每一个贪婪量词，最大数量的满足，剩余再分配下一个量词匹配。</p><h4 id="非贪婪">非贪婪</h4><p>特性：从左到右，从字符串的最左边开始匹配，每次试图不读入字符匹配，匹配成功，则完成匹配，否则读入一个字符再匹配，依此循环（读入字符、匹配）直到匹配成功或者把字符串的字符匹配完为止。</p><p>非贪婪量词实在贪婪量词后加 <code>?</code></p><table><thead><tr class="header"><th>表达式</th><th>说明</th></tr></thead><tbody><tr class="odd"><td><code>*?</code></td><td>重复 0 次或多次，懒惰</td></tr><tr class="even"><td><code>+?</code></td><td>重复 1 次或多次，懒惰</td></tr><tr class="odd"><td><code>??</code></td><td>重复 0 次或 1 次，懒惰</td></tr><tr class="even"><td><code>{n,}?</code></td><td>重复 n 次及以上，懒惰</td></tr><tr class="odd"><td><code>{n,m}?</code></td><td>重复 n 次到 m 次，懒惰</td></tr></tbody></table><h3 id="参考">参考</h3><p>https://www.runoob.com/regexp/regexp-syntax.html</p><p>https://www.bilibili.com/video/BV1K341187wW</p>]]></content>
      
      
      <categories>
          
          <category> 编程 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 正则表达式 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>neovim 的自定义：安装与键位备忘</title>
      <link href="/posts/8333ac79/"/>
      <url>/posts/8333ac79/</url>
      
        <content type="html"><![CDATA[<h3 id="安装">安装</h3><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">git <span class="built_in">clone</span> https://github.com/jungheil/my-nvim.git <span class="variable">$HOME</span>/.config/nvim</span><br><span class="line">sudo <span class="built_in">chmod</span> +x <span class="variable">$HOME</span>/.config/nvim/install.sh</span><br><span class="line"><span class="variable">$HOME</span>/.config/nvim/install.sh</span><br></pre></td></tr></tbody></table></figure><h3 id="键位">键位</h3><blockquote><p>其中带 *` 表示为自定义键位！</p></blockquote><h4 id="全局">全局</h4><table><thead><tr class="header"><th>命令</th><th>说明</th></tr></thead><tbody><tr class="odd"><td><code>:h(elp) [keyword]</code></td><td>帮助</td></tr><tr class="even"><td><code>:sav(eas) [filename]</code></td><td>另存为</td></tr><tr class="odd"><td><code>:clo(se)</code></td><td>关闭当前窗口</td></tr><tr class="even"><td><code>:ter(minal)</code></td><td>打开终端</td></tr><tr class="odd"><td><code>&lt;C-t&gt;</code></td><td>* 在新窗口打开终端</td></tr><tr class="even"><td><code>K</code></td><td>打开光标所在单词的 man 页面</td></tr></tbody></table><h4 id="移动光标">移动光标</h4><table><thead><tr class="header"><th>命令</th><th>说明</th></tr></thead><tbody><tr class="odd"><td><strong><code>h</code></strong></td><td><strong>左移光标</strong></td></tr><tr class="even"><td><strong><code>j</code></strong></td><td><strong>下移光标</strong></td></tr><tr class="odd"><td><strong><code>k</code></strong></td><td><strong>上移光标</strong></td></tr><tr class="even"><td><strong><code>l</code></strong></td><td><strong>右移光标</strong></td></tr><tr class="odd"><td><code>&lt;C-j&gt;</code></td><td>* 快速下移光标</td></tr><tr class="even"><td><code>&lt;C-k&gt;</code></td><td>* 快速上移光标</td></tr><tr class="odd"><td><code>&lt;C-d&gt;</code></td><td>向下滚动半屏 (down)</td></tr><tr class="even"><td><code>&lt;C-u&gt;</code></td><td>向上滚动半屏 (up)</td></tr><tr class="odd"><td><code>&lt;C-b&gt;</code></td><td>向上滚动一屏</td></tr><tr class="even"><td><code>&lt;C-f&gt;</code></td><td>向下滚动一屏</td></tr><tr class="odd"><td><strong><code>w</code>, <code>W</code></strong></td><td><strong>下一个单词开头 (大写含标点)</strong></td></tr><tr class="even"><td><strong><code>e</code>, <code>E</code></strong></td><td><strong>下一个单词结尾 (大写含标点)</strong></td></tr><tr class="odd"><td><strong><code>b</code>, <code>B</code></strong></td><td><strong>上一个单词开头 (大写含标点)</strong></td></tr><tr class="even"><td><strong><code>ge</code>, <code>gE</code></strong></td><td><strong>上一个单词结尾 (大写含标点)</strong></td></tr><tr class="odd"><td><strong><code>f+{character}</code></strong></td><td><strong>定位到下一个 <code>character</code></strong></td></tr><tr class="even"><td><strong><code>F+{character}</code></strong></td><td><strong>定位到前一个 <code>character</code></strong></td></tr><tr class="odd"><td><strong><code>t+{character}</code></strong></td><td><strong>定位到下一个 <code>character</code> 之前</strong></td></tr><tr class="even"><td><strong><code>T+{character}</code></strong></td><td><strong>定位到前一个 <code>character</code> 之前</strong></td></tr><tr class="odd"><td><strong><code>;</code></strong></td><td><strong>重复之前的 <code>f</code>, <code>t</code>, <code>F</code>, <code>T</code> 操作</strong></td></tr><tr class="even"><td><code>,</code></td><td>反向重复之前的 <code>f</code>, <code>t</code>, <code>F</code>, <code>T</code> 操作</td></tr><tr class="odd"><td><code>0</code></td><td>移动到行首</td></tr><tr class="even"><td><code>^</code></td><td>移动到行首的非空白字符</td></tr><tr class="odd"><td><code>$</code></td><td>移动到行尾</td></tr><tr class="even"><td><code>g_</code></td><td>移动到行尾的非空白字符</td></tr><tr class="odd"><td><strong><code>A</code></strong></td><td><strong>移动到行尾的非空白字符并进入插入模式</strong></td></tr><tr class="even"><td><strong><code>I</code></strong></td><td><strong>移动到行首的非空白字符并进入插入模式</strong></td></tr><tr class="odd"><td><strong><code>gg</code></strong></td><td><strong>移动到文件第一行</strong></td></tr><tr class="even"><td><strong><code>G</code></strong></td><td><strong>移动到文件最后一行</strong></td></tr><tr class="odd"><td><strong><code>[num]gg</code> or <code>[num]5G</code></strong></td><td><strong>移动到第 <code>num</code> 行</strong></td></tr><tr class="even"><td><code>}</code></td><td>移动到下一个段落</td></tr><tr class="odd"><td><code>{</code></td><td>移动到上一个段落</td></tr><tr class="even"><td><code>zz</code></td><td>移动屏幕使光标居中</td></tr></tbody></table><h4 id="普通模式">普通模式</h4><table><thead><tr class="header"><th>命令</th><th>说明</th></tr></thead><tbody><tr class="odd"><td><strong><code>r</code></strong></td><td><strong>替换当前字符</strong></td></tr><tr class="even"><td><strong><code>R</code></strong></td><td><strong>替换多个字符</strong></td></tr><tr class="odd"><td><code>J</code></td><td>合并下一行并插入空格</td></tr><tr class="even"><td><code>gJ</code></td><td>合并下一行</td></tr><tr class="odd"><td><code>cc</code></td><td>删除当前行并进入插入模式</td></tr><tr class="even"><td><code>C</code></td><td>删除光标以后并进出插入模式</td></tr><tr class="odd"><td><code>s</code></td><td>删除字符并进入插入模式</td></tr><tr class="even"><td><code>S</code></td><td>删除当前行并进入插入模式 (<code>cc</code>)</td></tr><tr class="odd"><td><strong><code>u</code></strong></td><td><strong>撤销</strong></td></tr><tr class="even"><td><strong><code>U</code></strong></td><td><strong>恢复撤销</strong></td></tr><tr class="odd"><td><strong><code>.</code></strong></td><td><strong>重复执行上一条命令</strong></td></tr><tr class="even"><td><strong><code>&gt;&gt;</code></strong></td><td><strong>向右缩进</strong></td></tr><tr class="odd"><td><strong><code>&lt;&lt;</code></strong></td><td><strong>向左缩进</strong></td></tr><tr class="even"><td><strong><code>yy</code></strong></td><td><strong>复制当前行</strong></td></tr><tr class="odd"><td><strong><code>yw</code></strong></td><td><strong>复制当前单词</strong></td></tr><tr class="even"><td><strong><code>dd</code></strong></td><td><strong>剪切当前行</strong></td></tr><tr class="odd"><td><strong><code>dw</code></strong></td><td><strong>剪切当前单词</strong></td></tr><tr class="even"><td><strong><code>x</code></strong></td><td><strong>剪切当前字符</strong></td></tr><tr class="odd"><td><strong><code>p</code></strong></td><td><strong>光标后粘贴</strong></td></tr><tr class="even"><td><strong><code>P</code></strong></td><td><strong>光标前粘贴</strong></td></tr><tr class="odd"><td><code>&lt;C-s&gt;</code></td><td>* 保存</td></tr><tr class="even"><td><code>&lt;C-1&gt;</code></td><td>* 退出窗口</td></tr><tr class="odd"><td><code>&lt;C-M-q&gt;</code></td><td>* 强制退出窗口</td></tr></tbody></table><h4 id="插入模式">插入模式</h4><table><thead><tr class="header"><th>命令</th><th>说明</th></tr></thead><tbody><tr class="odd"><td><strong><code>i</code></strong></td><td><strong>从光标前开始插入字符</strong></td></tr><tr class="even"><td><strong><code>I</code></strong></td><td><strong>从行首开始插入字符</strong></td></tr><tr class="odd"><td><strong><code>a</code></strong></td><td><strong>从光标后开始插入字符</strong></td></tr><tr class="even"><td><strong><code>A</code></strong></td><td><strong>从行尾开始插入字符</strong></td></tr><tr class="odd"><td><strong><code>o</code></strong></td><td><strong>在当前行之下另起一行，开始插入字符</strong></td></tr><tr class="even"><td><strong><code>O</code></strong></td><td><strong>在当前行之上另起一行，开始插入字符</strong></td></tr><tr class="odd"><td><code>&lt;Esc&gt;</code></td><td>退出插入模式</td></tr><tr class="even"><td><code>&lt;C-h&gt;</code></td><td>* 左移光标</td></tr><tr class="odd"><td><code>&lt;C-j&gt;</code></td><td>* 下移光标</td></tr><tr class="even"><td><code>&lt;C-k&gt;</code></td><td>* 上移光标</td></tr><tr class="odd"><td><code>&lt;C-l&gt;</code></td><td>* 右移光标</td></tr><tr class="even"><td><code>&lt;C-BS&gt;</code></td><td>* 删除单词</td></tr></tbody></table><h4 id="可视化模式">可视化模式</h4><table><thead><tr class="header"><th>命令</th><th>说明</th></tr></thead><tbody><tr class="odd"><td><strong><code>v</code></strong></td><td><strong>进入可视化模式</strong></td></tr><tr class="even"><td><strong><code>v</code></strong></td><td><strong>进入可视化模式 (行选择)</strong></td></tr><tr class="odd"><td><strong><code>&lt;C-v&gt;</code></strong></td><td><strong>进入可视化模式 (块选择)</strong></td></tr><tr class="even"><td><code>o</code></td><td>切换光标到选择区开头 / 结尾</td></tr><tr class="odd"><td><code>O</code></td><td>切换光标到选择区的角</td></tr><tr class="even"><td><strong><code>I</code></strong></td><td><strong>多行插入 (仅块选择)</strong></td></tr><tr class="odd"><td><code>aw</code></td><td>选择当前单词</td></tr><tr class="even"><td><code>ab</code></td><td>选择被 <code>()</code> 包裹的区域 (含括号)</td></tr><tr class="odd"><td><code>aB</code></td><td>选择被 <code>{}</code> 包裹的区域 (含括号)</td></tr><tr class="even"><td><code>at</code></td><td>选择被 <code>&lt;&gt;</code> 包裹的区域 (含括号)</td></tr><tr class="odd"><td><strong><code>ib</code></strong></td><td><strong>选择被 <code>()</code> 包裹的区域 (无括号)</strong></td></tr><tr class="even"><td><strong><code>iB</code></strong></td><td><strong>选择被 <code>{}</code> 包裹的区域 (无括号)</strong></td></tr><tr class="odd"><td><code>it</code></td><td>选择被 <code>&lt;&gt;</code> 包裹的区域 (无括号)</td></tr><tr class="even"><td><code>y</code></td><td>复制</td></tr><tr class="odd"><td><code>d</code></td><td>剪切</td></tr><tr class="even"><td><code>~</code></td><td>互换大小写</td></tr><tr class="odd"><td><code>u</code></td><td>切换小写</td></tr><tr class="even"><td><code>U</code></td><td>切换大写</td></tr></tbody></table><h4 id="多文件">多文件</h4><table><thead><tr class="header"><th>命令</th><th>说明</th></tr></thead><tbody><tr class="odd"><td><strong><code>:e filename</code></strong></td><td><strong>打开 <code>filename</code></strong></td></tr><tr class="even"><td><strong><code>:bn</code></strong></td><td><strong>下一个缓冲区</strong></td></tr><tr class="odd"><td><strong><code>:bp</code></strong></td><td><strong>上一个缓冲区</strong></td></tr><tr class="even"><td><strong><code>:bd</code></strong></td><td><strong>关闭缓冲区</strong></td></tr><tr class="odd"><td><strong><code>&lt;C-right&gt;</code></strong></td><td>* <strong>下一个缓冲区</strong></td></tr><tr class="even"><td><strong><code>&lt;C-left&gt;</code></strong></td><td>* <strong>上一个缓冲区</strong></td></tr><tr class="odd"><td><strong><code>&lt;C-down&gt;</code></strong></td><td>* <strong>关闭缓冲区</strong></td></tr><tr class="even"><td><strong><code>&lt;C-w&gt;s</code></strong></td><td><strong>水平分割窗口</strong></td></tr><tr class="odd"><td><strong><code>&lt;C-w&gt;v</code></strong></td><td><strong>垂直分割窗口</strong></td></tr><tr class="even"><td><strong><code>&lt;C-w&gt;w</code></strong></td><td><strong>切换窗口</strong></td></tr><tr class="odd"><td><strong><code>&lt;C-w&gt;k</code></strong></td><td><strong>切换到上窗口</strong></td></tr><tr class="even"><td><strong><code>&lt;C-w&gt;j</code></strong></td><td><strong>切换到下窗口</strong></td></tr><tr class="odd"><td><strong><code>&lt;C-w&gt;h</code></strong></td><td><strong>切换到左窗口</strong></td></tr><tr class="even"><td><strong><code>&lt;C-w&gt;l</code></strong></td><td><strong>切换到右窗口</strong></td></tr><tr class="odd"><td><strong><code>&lt;leader&gt;k</code></strong></td><td>* <strong>向上创建窗口</strong></td></tr><tr class="even"><td><strong><code>&lt;leader&gt;j</code></strong></td><td>* <strong>向下创建窗口</strong></td></tr><tr class="odd"><td><strong><code>&lt;leader&gt;h</code></strong></td><td>* <strong>向左创建窗口</strong></td></tr><tr class="even"><td><strong><code>&lt;leader&gt;l</code></strong></td><td>* <strong>向右创建窗口</strong></td></tr><tr class="odd"><td><strong><code>&lt;M-k&gt;</code></strong></td><td>* <strong>移动光标至上方窗口</strong></td></tr><tr class="even"><td><strong><code>&lt;M-j&gt;</code></strong></td><td>* <strong>移动光标至下方窗口</strong></td></tr><tr class="odd"><td><strong><code>&lt;M-h&gt;</code></strong></td><td>* <strong>移动光标至左方窗口</strong></td></tr><tr class="even"><td><strong><code>&lt;M-l&gt;</code></strong></td><td>* <strong>移动光标至右方窗口</strong></td></tr><tr class="odd"><td><strong><code>&lt;M-k&gt;</code></strong></td><td>* <strong>移动光标至上方窗口</strong></td></tr><tr class="even"><td><strong><code>&lt;M-j&gt;</code></strong></td><td>* <strong>移动光标至下方窗口</strong></td></tr><tr class="odd"><td><strong><code>&lt;M-h&gt;</code></strong></td><td>* <strong>移动光标至左方窗口</strong></td></tr><tr class="even"><td><strong><code>&lt;M-l&gt;</code></strong></td><td>* <strong>移动光标至右方窗口</strong></td></tr><tr class="odd"><td><strong><code>&lt;M-K&gt;</code></strong></td><td>* <strong>向上移动窗口分割线</strong></td></tr><tr class="even"><td><strong><code>&lt;M-J&gt;</code></strong></td><td>* <strong>向下移动窗口分割线</strong></td></tr><tr class="odd"><td><strong><code>&lt;M-H&gt;</code></strong></td><td>* <strong>向左移动窗口分割线</strong></td></tr><tr class="even"><td><strong><code>&lt;M-L&gt;</code></strong></td><td>* <strong>向右移动窗口分割线</strong></td></tr><tr class="odd"><td><strong><code>&lt;leader&gt;tn</code></strong></td><td>* <strong>新建标签</strong></td></tr><tr class="even"><td><strong><code>&lt;leader&gt;tc</code></strong></td><td>* <strong>删除标签</strong></td></tr><tr class="odd"><td><strong><code>&lt;leader&gt;tl</code></strong></td><td>* <strong>向后切换标签</strong></td></tr><tr class="even"><td><strong><code>&lt;leader&gt;th</code></strong></td><td>* <strong>向前切换标签</strong></td></tr><tr class="odd"><td><strong><code>&lt;leader&gt;tt</code></strong></td><td>* <strong>将窗口转为标签</strong></td></tr></tbody></table><h4 id="查找与替换">查找与替换</h4><table><thead><tr class="header"><th>命令</th><th>说明</th></tr></thead><tbody><tr class="odd"><td><strong><code>/pattern</code></strong></td><td><strong>查找 <code>pattern</code></strong></td></tr><tr class="even"><td><code>?pattern</code></td><td>向上查找 <code>pattern</code></td></tr><tr class="odd"><td><code>\pattern</code></td><td>正则查找 <code>pattern</code></td></tr><tr class="even"><td><strong><code>n</code></strong></td><td><strong>查找下一个</strong></td></tr><tr class="odd"><td><strong><code>N</code></strong></td><td><strong>查找上一个</strong></td></tr><tr class="even"><td><strong><code>:%s/old/new/g</code></strong></td><td><strong>替换全部</strong></td></tr><tr class="odd"><td><strong><code>:%s/old/new/gc</code></strong></td><td><strong>逐个替换</strong></td></tr></tbody></table><h4 id="寄存器">寄存器</h4><table><thead><tr class="header"><th>命令</th><th>说明</th></tr></thead><tbody><tr class="odd"><td><code>:reg[isters]</code></td><td>显示寄存器内容</td></tr><tr class="even"><td><strong><code>"ay</code></strong></td><td><strong>复制内容到寄存器 <code>a</code></strong></td></tr><tr class="odd"><td><code>"Ay</code></td><td>追加内容到寄存器 <code>a</code></td></tr><tr class="even"><td><strong><code>"ap</code></strong></td><td><strong>粘贴寄存器 <code>a</code></strong></td></tr></tbody></table><p><strong>特殊寄存器：</strong></p><table><thead><tr class="header"><th>寄存器</th><th>说明</th></tr></thead><tbody><tr class="odd"><td><code>0</code></td><td>上次复制</td></tr><tr class="even"><td><code>"</code></td><td>未命名寄存器，上次复制或删除</td></tr><tr class="odd"><td><code>%</code></td><td>当前文件名</td></tr><tr class="even"><td><code>#</code></td><td>轮换文件名</td></tr><tr class="odd"><td><strong><code>*</code></strong></td><td><strong>剪贴板内容 (X11 primary)</strong></td></tr><tr class="even"><td><strong><code>+</code></strong></td><td><strong>剪贴板内容 (X11 clipboard)</strong></td></tr><tr class="odd"><td><code>/</code></td><td>上次搜索的 pattern</td></tr><tr class="even"><td><code>:</code></td><td>上次执行的命令</td></tr><tr class="odd"><td><code>.</code></td><td>上次插入的文本</td></tr><tr class="even"><td><code>-</code></td><td>上次剪切的短于一行的文本</td></tr><tr class="odd"><td><code>=</code></td><td>表达式寄存器</td></tr><tr class="even"><td><code>_</code></td><td>黑洞寄存器</td></tr></tbody></table><h4 id="leaderf">LeaderF</h4><table><thead><tr class="header"><th>命令</th><th>说明</th></tr></thead><tbody><tr class="odd"><td><strong><code>&lt;leader&gt;ff</code></strong></td><td>* <strong>搜索当前目录下的文件</strong></td></tr><tr class="even"><td><strong><code>&lt;leader&gt;fb</code></strong></td><td>* <strong>搜索当前的 Buffer</strong></td></tr><tr class="odd"><td><strong><code>&lt;leader&gt;fl</code></strong></td><td>* <strong>搜索当前文件中有的某个单词</strong></td></tr><tr class="even"><td><code>&lt;leader&gt;fm</code></td><td>* 搜索最近使用过的文件</td></tr><tr class="odd"><td><strong><code>&lt;leader&gt;fc</code></strong></td><td>* <strong>搜索当前文件的函数</strong></td></tr><tr class="even"><td><code>&lt;Tab&gt;</code></td><td>在检索模式和选择模式之间切换</td></tr><tr class="odd"><td><code>&lt;C-r&gt;</code></td><td>在模糊匹配和正则式匹配之间切换</td></tr><tr class="even"><td><code>&lt;C-f&gt;</code></td><td>在全路径搜索和名字搜索之间切换</td></tr><tr class="odd"><td><code>&lt;C-p&gt;</code></td><td>预览结果</td></tr></tbody></table><h4 id="nerdcommenter">NERDCommenter</h4><table><thead><tr class="header"><th>命令</th><th>说明</th></tr></thead><tbody><tr class="odd"><td><strong><code>&lt;leader&gt;cc</code></strong></td><td>* <strong>注释当前选择的行或文本</strong></td></tr><tr class="even"><td><code>&lt;leader&gt;cf</code></td><td>* 同 <code>&lt;leader&gt;cc</code> ，强制嵌套</td></tr><tr class="odd"><td><code>&lt;leader&gt;cs</code></td><td>* 用块格式注释</td></tr><tr class="even"><td><strong><code>&lt;leader&gt;c&lt;space&gt;</code></strong></td><td>* <strong>切换注释状态</strong></td></tr><tr class="odd"><td><strong><code>&lt;leader&gt;cu</code></strong></td><td>* <strong>取消注释</strong></td></tr></tbody></table><h4 id="hop">hop</h4><table><thead><tr class="header"><th>命令</th><th>说明</th></tr></thead><tbody><tr class="odd"><td><strong><code>&lt;M-/&gt;</code></strong></td><td>* <strong>字符跳转 (Char1 模式)</strong></td></tr><tr class="even"><td><strong><code>&lt;M-?&gt;</code></strong></td><td>* <strong>字符跳转 (Word 模式)</strong></td></tr></tbody></table><h4 id="其他">其他</h4><table><thead><tr class="header"><th>命令</th><th>说明</th></tr></thead><tbody><tr class="odd"><td><strong><code>ff</code></strong></td><td>* <strong>打开文件管理器</strong></td></tr><tr class="even"><td><code>&lt;C-j&gt;</code></td><td>*snippets 跳转下一条</td></tr><tr class="odd"><td><strong><code>&lt;Leader&gt;tt</code></strong></td><td>* <strong>翻译</strong></td></tr><tr class="even"><td><code>]g</code></td><td>* 下一处错误</td></tr><tr class="odd"><td><code>[g</code></td><td>* 上一处错误</td></tr><tr class="even"><td><strong><code>gd</code></strong></td><td>* <strong>跳转到定义</strong></td></tr><tr class="odd"><td><strong><code>gy</code></strong></td><td>* <strong>跳转到类型定义</strong></td></tr><tr class="even"><td><strong><code>gi</code></strong></td><td>* <strong>跳转到实现</strong></td></tr><tr class="odd"><td><strong><code>gr</code></strong></td><td>* <strong>跳转到引用</strong></td></tr><tr class="even"><td><code>K</code></td><td>* 展示文档</td></tr><tr class="odd"><td><code>&lt;Leader&gt;ff</code></td><td>* 格式化代码</td></tr><tr class="even"><td><code>&lt;Leader&gt;aa</code></td><td>*codeAction 列表</td></tr><tr class="odd"><td><code>&lt;Leader&gt;ac</code></td><td>* 应用 codeAction</td></tr><tr class="even"><td><code>&lt;Leader&gt;qf</code></td><td>* 自动修复问题</td></tr><tr class="odd"><td><code>&lt;C-R&gt;</code></td><td>* 选择区域</td></tr><tr class="even"><td><code>&lt;M-a&gt;</code></td><td>* 列出所有问题</td></tr><tr class="odd"><td><code>&lt;M-o&gt;</code></td><td>*Outline</td></tr></tbody></table><h3 id="参考文章">参考文章</h3><p>https://vim.rtorr.com/lang/zh_cn</p>]]></content>
      
      
      <categories>
          
          <category> 编程 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> vim </tag>
            
            <tag> neovim </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>相机模型与标定笔记</title>
      <link href="/posts/e7d4f75/"/>
      <url>/posts/e7d4f75/</url>
      
        <content type="html"><![CDATA[<h3 id="针孔模型的坐标系投影">针孔模型的坐标系投影</h3><figure><img data-src="/posts/e7d4f75/4aaedcf6d7ec14098508056c52cccd700df7c56a.png" alt="img"><figcaption>img</figcaption></figure><p>世界坐标系 -&gt; 相机坐标系 -&gt; 归一化平面 -&gt; 像素坐标系</p><h3 id="世界坐标系---相机坐标系外参">世界坐标系 -&gt; 相机坐标系（外参）</h3><p><span class="math display">\[P_c=RP_w+t=\begin{bmatrix}R&amp;t\\0&amp;1\end{bmatrix}P_w=TP_w=\begin{bmatrix}X\\Y\\Z\end{bmatrix}\]</span></p><h3 id="相机坐标系---归一化平面">相机坐标系 -&gt; 归一化平面</h3><figure><img data-src="/posts/e7d4f75/7ee9eed0c33090c7e0dc7d80341ce630d5d68806.png" alt="img"><figcaption>img</figcaption></figure><p>如上图所示，<span class="math inline">\(X'\)</span> 为归一化平面坐标，<span class="math inline">\(X\)</span> 为相机坐标系坐标，<span class="math inline">\(f\)</span> 为焦距（通常单位是毫米 mm）。根据相似三角形： <span class="math display">\[\begin{aligned}\begin{cases}X'=f \frac XZ \\Y'=f \frac YZ\end{cases}\end{aligned}\]</span> 此时已将归一化平面翻转（非倒像），否则<span class="math inline"> \(X'\)</span> 与<span class="math inline"> \(Y'\)</span> 需取负。</p><h3 id="归一化平面---像素坐标系">归一化平面 -&gt; 像素坐标系</h3><figure><img data-src="/posts/e7d4f75/%E6%88%AA%E5%B1%8F2021-11-18%2016.16.12.png" alt="截屏2021-11-18 16.16.12"><figcaption>截屏 2021-11-18 16.16.12</figcaption></figure><p>像素坐标系通常从图像左上角开始</p><p>设在<span class="math inline"> \(X'\)</span> 方向：<span class="math inline">\(1\,pix=dx\,mm\)</span> （毫米转像素）;</p><p>在<span class="math inline"> \(Y'\)</span> 方向：<span class="math inline">\(1\,pix=dy\,mm\)</span></p><p>则： <span class="math display">\[\begin{cases}u=\frac {1}{dx}X'+c_x\\v=\frac {1}{dy}Y'+c_y\end{cases}\]</span> 与前一步合并一下： <span class="math display">\[\begin{cases}u=f_x\frac XZ+c_x\\v=f_y\frac YZ+c_y\end{cases}\]</span> 转换成矩阵形式： <span class="math display">\[\begin {aligned}\underbrace {\begin {pmatrix}u\\v\\1\end {pmatrix}}_\text {其次坐标} = \frac 1Z\begin {pmatrix}f_x&amp;\gamma&amp;c_x\\0&amp;f_y&amp;c_y\\0 &amp;0&amp;1\end {pmatrix}\underbrace {\begin {pmatrix}X\\Y\\Z\end {pmatrix}}_\text {非其次坐标}=\frac 1ZKP\end {aligned}\]</span> 其中： <span class="math display">\[\begin{cases}f_x=\frac f{dx}\\f_y=\frac f{dy}\end{cases}\]</span> <span class="math inline">\(\gamma\)</span> 描述的是两个坐标轴的偏转。</p><p><span class="math inline">\(K\)</span> 称为内参矩阵</p><p>对于齐次坐标，尺度因子（这里指距离 Z）不会改变坐标值的；与光心位于同一直线的所有点在归一化平面上是同一个投影点。</p><h3 id="畸变矫正">畸变矫正</h3><p>畸变主要分为了径向畸变和切向畸变：</p><h4 id="径向畸变">径向畸变</h4><figure><img data-src="/posts/e7d4f75/189cebd1a47791f5947ce99ced89d0f3d376d827.png" alt="img"><figcaption>img</figcaption></figure><p>畸变模型使用多项式来描述如下： <span class="math display">\[\begin{aligned}x_{distort}=x_n\cdot(1+k_1r^2+k_2r^4+k_3r^6)\\y_{distort}=y_n\cdot(1+k_1r^2+k_2r^4+k_3r^6)\end{aligned}\]</span> 其中<span class="math inline"> \(x_n\)</span> 和<span class="math inline"> \(y_n\)</span> 为归一化坐标： <span class="math display">\[\begin{cases}x_n = \frac XZ \\y_n = \frac YZ\end{cases}\]</span> 注意他们并不是归一化平面上的坐标，与其相差了一个因子<span class="math inline"> \(f\)</span>。 <span class="math display">\[r=\sqrt{x_n^2+y_n^2}\]</span> 一般多项式取到前三项，即三个径向畸变参数<span class="math inline"> \(k_1\)</span>,<span class="math inline">\(k_2\)</span>,<span class="math inline">\(k_3\)</span>。</p><p>对于畸变很小的中心区域，　主要起作用的是<span class="math inline"> \(k_1\)</span>；</p><p>对于畸变较大的边缘区域，主要起作用的是<span class="math inline"> \(k_2\)</span>；</p><p>对于畸变很大的鱼眼相机，可以加入<span class="math inline"> \(k_3\)</span> 来表示；</p><figure><img data-src="/posts/e7d4f75/image-20211118171045569.png" alt="image-20211118171045569"><figcaption>image-20211118171045569</figcaption></figure><h4 id="切向畸变">切向畸变</h4><figure><img data-src="/posts/e7d4f75/9fa21f91f1f427791f3afdc4f26580f618119c9c.png" alt="img"><figcaption>img</figcaption></figure><figure><img data-src="/posts/e7d4f75/1598479-20200814182323435-1327674777.png" alt="img"><figcaption>img</figcaption></figure><p>通常是透镜与像平面没有严格平行导致。</p><p>畸变模型描述如下： <span class="math display">\[\begin{aligned}x_{distort}=x_n+2p_1x_ny_n+p_2(r^2+2x^2) \\y_{distort}=y_n+p_1(r^2+2y^2)+2p_2x_ny_n\end{aligned}\]</span> <img data-src="/posts/e7d4f75/image-20211118171850959.png" alt="image-20211118171850959"></p><h4 id="畸变矫正-1">畸变矫正</h4><p>我们合并一下可以得到： <span class="math display">\[\begin{cases}x_{distort}=x_n\cdot(1+k_1r^2+k_2r^4+k_3r^6)+2p_1x_ny_n+p_2(r^2+2x^2)\\y_{distort}=y_n\cdot(1+k_1r^2+k_2r^4+k_3r^6)+p_1(r^2+2y^2)+2p_2x_ny_n\end{cases}\]</span> 通常记相机畸变参数为： <span class="math display">\[disCoffes = [k_1,k_2,p_1,p_2,k_3]\]</span></p><h4 id="去畸变程序">去畸变程序</h4><figure class="highlight c++"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;opencv2/opencv.hpp&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;string&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line">string image_file = <span class="string">"../test.png"</span>;   <span class="comment">// 请确保路径正确</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">(<span class="type">int</span> argc, <span class="type">char</span> **argv)</span> </span>{</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 本程序需要你自己实现去畸变部分的代码。尽管我们可以调用OpenCV的去畸变，但自己实现一遍有助于理解。</span></span><br><span class="line">    <span class="comment">// 畸变参数</span></span><br><span class="line">    <span class="type">double</span> k1 = <span class="number">-0.28340811</span>, k2 = <span class="number">0.07395907</span>, p1 = <span class="number">0.00019359</span>, p2 = <span class="number">1.76187114e-05</span>;</span><br><span class="line">    <span class="comment">// 内参</span></span><br><span class="line">    <span class="type">double</span> fx = <span class="number">458.654</span>, fy = <span class="number">457.296</span>, cx = <span class="number">367.215</span>, cy = <span class="number">248.375</span>;</span><br><span class="line"></span><br><span class="line">    cv::Mat image = cv::<span class="built_in">imread</span>(image_file,<span class="number">0</span>);   <span class="comment">// 图像是灰度图，CV_8UC1</span></span><br><span class="line">    <span class="type">int</span> rows = image.rows, cols = image.cols;</span><br><span class="line">    cv::Mat image_undistort = cv::<span class="built_in">Mat</span>(rows, cols, CV_8UC1);   <span class="comment">// 去畸变以后的图</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// 计算去畸变后图像的内容</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> v = <span class="number">0</span>; v &lt; rows; v++)</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> u = <span class="number">0</span>; u &lt; cols; u++) {</span><br><span class="line"></span><br><span class="line">            <span class="type">double</span> u_distorted = <span class="number">0</span>, v_distorted = <span class="number">0</span>;</span><br><span class="line">            <span class="type">double</span> x_distorted = <span class="number">0</span>, y_distorted = <span class="number">0</span>;</span><br><span class="line">            <span class="comment">// TODO 按照公式，计算点(u,v)对应到畸变图像中的坐标(u_distorted, v_distorted) (~6 lines)</span></span><br><span class="line">            <span class="comment">// start your code here</span></span><br><span class="line">            <span class="type">double</span> x = (u - cx)/fx;</span><br><span class="line">            <span class="type">double</span> y = (v - cy)/fy;</span><br><span class="line">            <span class="type">double</span> r_2 = x*x + y*y;</span><br><span class="line">            x_distorted = x*(<span class="number">1</span>+k1*r_2+k2*r_2*r_2)+<span class="number">2</span>*p1*x*y+p2*(r_2+<span class="number">2</span>*x*x);</span><br><span class="line">            y_distorted = y*(<span class="number">1</span>+k1*r_2+k2*r_2*r_2)+p1*(r_2+<span class="number">2</span>*y*y)+<span class="number">2</span>*p2*x*y;</span><br><span class="line">            u_distorted = fx*x_distorted+cx;</span><br><span class="line">            v_distorted = fy*y_distorted+cy;</span><br><span class="line">            <span class="comment">// end your code here</span></span><br><span class="line"></span><br><span class="line">            <span class="comment">// 赋值 (最近邻插值)</span></span><br><span class="line">            <span class="keyword">if</span> (u_distorted &gt;= <span class="number">0</span> &amp;&amp; v_distorted &gt;= <span class="number">0</span> &amp;&amp; u_distorted &lt; cols &amp;&amp; v_distorted &lt; rows) {</span><br><span class="line">                image_undistort.<span class="built_in">at</span>&lt;uchar&gt;(v, u) = image.<span class="built_in">at</span>&lt;uchar&gt;((<span class="type">int</span>) v_distorted, (<span class="type">int</span>) u_distorted);</span><br><span class="line">            } <span class="keyword">else</span> {</span><br><span class="line">                image_undistort.<span class="built_in">at</span>&lt;uchar&gt;(v, u) = <span class="number">0</span>;</span><br><span class="line">            }</span><br><span class="line">        }</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 画图去畸变后图像</span></span><br><span class="line">    cv::<span class="built_in">imshow</span>(<span class="string">"image undistorted"</span>, image_undistort);</span><br><span class="line">    cv::<span class="built_in">waitKey</span>();</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">}</span><br><span class="line"></span><br></pre></td></tr></tbody></table></figure><h3 id="鱼眼相机">鱼眼相机</h3><p>鱼眼相机标定不能使用针孔模型，而是使用鱼眼相机模型，见论文：Kannala J, Brandt S S. A generic camera model and calibration method for conventional, wide-angle, and fish-eye lenses [J]. IEEE Transactions on Pattern Analysis and Machine Intelligence, 2006, 28 (8): 1335–1340.</p><figure><img data-src="/posts/e7d4f75/image-20211125162218474.png" alt="image-20211125162218474"><figcaption>image-20211125162218474</figcaption></figure><p>针孔相机可以描述成下述公示： <span class="math display">\[r=f\tan\theta\]</span></p><p><span class="math display">\[\begin {aligned}\text {外参：} TX_w=\begin {bmatrix} X\\Y\\Z\end {bmatrix} \\x_n=\frac XZ,\;y_n = \frac YZ \\r^2 = x^2_n + y^2_n\\\theta = \arctan (r)\\\theta_d=k_0\theta+k_1\theta^3+k_2\theta^5+k_3\theta^7+k_4\theta^9\\x_d = \frac {\theta_d}{r} x_n,\;y_d = \frac {\theta_d}{r} y_n,\\u = f_xx_d+c_x, v = f_yy_d+c_y\end {aligned}\]</span></p><h3 id="张氏标定法">张氏标定法</h3><p><span class="math display">\[s\begin{bmatrix}u\\v\\1\end{bmatrix} = A\begin{bmatrix}r_1&amp;r_2&amp;r_3&amp;t\end{bmatrix}\begin{bmatrix}X\\Y\\0\\1\end{bmatrix}\\A = \begin{bmatrix}c&amp;cs&amp;xH\\0&amp;c(1+m)&amp;yH\\0&amp;0&amp;1\end{bmatrix}\]</span></p><p>我们把世界坐标系设置在标定板上，所以世界坐标中的 Z=0。由于 Z=0，公示化简如下： <span class="math display">\[s\begin{bmatrix}u\\v\\1\end{bmatrix} = \underbrace{\begin{bmatrix}c&amp;cs&amp;xH\\0&amp;c(1+m)&amp;yH\\0&amp;0&amp;1\end{bmatrix}}_K\underbrace{\begin{bmatrix}r_{11}&amp;r_{12}&amp;t_1\\r_{21}&amp;r_{22}&amp;t_2\\r_{31}&amp;r_{32}&amp;t_3\end{bmatrix}}_{\begin{bmatrix}r_1&amp;r_2&amp;t\end{bmatrix}}\begin{bmatrix}X\\Y\\1\end{bmatrix}\]</span></p><h4 id="计算h">计算 H</h4><p>单应矩阵 H： <span class="math display">\[H=\lambda\begin{bmatrix}c&amp;cs&amp;xH\\0&amp;c(1+m)&amp;yH\\0&amp;0&amp;1\end{bmatrix}\begin{bmatrix}r_{11}&amp;r_{12}&amp;t_1\\r_{21}&amp;r_{22}&amp;t_2\\r_{31}&amp;r_{32}&amp;t_3\end{bmatrix} \\\]</span> 其中<span class="math inline"> \(\lambda\)</span> 可以是任意的尺度因子</p><p>在一张 checkerboard 图像上有<span class="math inline"> \(I\)</span> 个特征点，我们能生成<span class="math inline"> \(I\)</span> 条公式： <span class="math display">\[\begin{bmatrix}x_i\\y_i\\1\end{bmatrix}=H\begin{bmatrix}X_i\\Y_i\\1\end{bmatrix}\]</span> 由于 H 有 8DoF（少了一个尺度因子），每一个特征点提供 x 和 y 两个约束，所以一张图至少要有 4 个特征点算 H。</p><h4 id="由h计算k">由 H 计算 K</h4><p><span class="math display">\[H = \begin{bmatrix}h_1&amp;h_2&amp;h_3\end{bmatrix}=A\begin{bmatrix}r_1&amp;r_2&amp;t\end{bmatrix}\]</span></p><p>由于 Q<span class="math inline">\(r_1\)</span> 和<span class="math inline"> \(r_2\)</span> 正交： <span class="math display">\[\begin{cases}r_1^Tr_2=0\\r_1^Tr_1 = r_2^Tr_2=1\end{cases}\\\]</span> 易得两个约束： <span class="math display">\[\begin{cases}r_1 = A^{-1}h_1\\r_1 = A^{-1}h_1\end{cases} \;\Rightarrow\;\begin{cases}h_1^TA^{-T}A^{-1}h_2=0\\h_1^TA^{-T}A^{-1}h_1=h_2^TA^{-T}A^{-1}h_2\end{cases} \\\]</span> B 是对称阵，可以表示成 6D 向量 b <span class="math display">\[B=A^{-T}A^{-1}=\begin{bmatrix}B_{11}&amp;B_{12}&amp;B_{13}\\B_{21}&amp;B_{22}&amp;B_{23}\\B_{31}&amp;B_{32}&amp;B_{33}\end{bmatrix}\\b=\begin{bmatrix}B_{11}&amp;B_{12}&amp;B_{22}&amp;B_{13}&amp;B_{23}&amp;B_{33}^T\\\end{bmatrix}\]</span> 令： <span class="math display">\[h^T_iBh_j=v^T_{i,j}b \\\text{with}\\v=\begin{bmatrix}h_{i1}h_{j1}&amp;h_{i1}h_{j2}+h_{i2}h_{j1}&amp;h_{i2}h_{j2}&amp;h_{i3}h_{j1}+h_{i1}h_{j3}&amp;h_{i3}h_{j2}+h_{i2}h_{j3}&amp;h_{i3}h_{j3}\end{bmatrix}^T\]</span> 其中一个 H 可以生成一条下述公式： <span class="math display">\[\begin{bmatrix}v^T_{12}\\(v_{11}-v_{22)})^T\end{bmatrix}b=0\]</span> v 与 H 相关，b 与内参 K 相关。</p><p>有 n 张图我们可以得到如下矩阵： <span class="math display">\[\begin{bmatrix}v^T_{012}\\(v_{011}-v_{022)})^T\\...\\v^T_{n12}\\(v_{n11}-v_{n22)})^T\end{bmatrix}b=Vb=0\]</span> 强制添加约束 b=1，最小化下述误差： <span class="math display">\[b^*=arg\,\underset b{min}\,||b|| \quad\text{with}\:||b||=1\]</span> 因为 B 有 5 或 6 个 DoF，我们需要至少 3 个平面。</p><h4 id="非线性参数">非线性参数</h4><p>非线性参数在这里即畸变向量，为图像坐标加上偏移量（畸变模型）： <span class="math display">\[\begin{aligned}\triangle x(x,k,q), \\ \triangle y(y,k,q)\end{aligned}\]</span> 其中 k,q 分别是径向畸变和切向畸变的参数。</p><p>代畸变的内参<span class="math inline"> \(K_a\)</span> 可以表示为： <span class="math display">\[K_a=\begin{bmatrix}1&amp;0&amp;\triangle x(x,k,q)\\0&amp;1&amp;\triangle y(y,k,q)\\0&amp;0&amp;0\\\end{bmatrix}K\]</span> 优化以下函数： <span class="math display">\[\underset{(K,k,q,R_t,t_n)}{min}\;\sum_n\sum_i||x_{ni}-\hat{x}(K,k,q,R_t,t_n,X_{ni})||^2\]</span> <span class="math inline">\(K\)</span>：内参</p><p><span class="math inline">\(k\)</span>：径向畸变</p><p><span class="math inline">\(q\)</span>：切向畸变</p><p><span class="math inline">\(R_t\)</span>：旋转矩阵</p><p><span class="math inline">\(t_n\)</span>：平移向量</p><p><span class="math inline">\(X_{ni}\)</span>：世界坐标</p><h3 id="工具">工具</h3><ol type="1"><li>OpenCV</li><li>CamOdoCal</li><li>Kalibr</li><li>Matlab</li></ol>]]></content>
      
      
      <categories>
          
          <category> CV </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 相机内参 </tag>
            
            <tag> 标定 </tag>
            
            <tag> 畸变 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>LaTex 公式笔记</title>
      <link href="/posts/40163972/"/>
      <url>/posts/40163972/</url>
      
        <content type="html"><![CDATA[<h3 id="开始">开始</h3><p>行内公式：</p><figure class="highlight latex"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">$</span> c = <span class="keyword">\sqrt</span>{a<span class="built_in">^</span>{2}+b<span class="built_in">_</span>{0}<span class="built_in">^</span>{2}+e<span class="built_in">^</span>{x}} <span class="built_in">$</span></span><br></pre></td></tr></tbody></table></figure><p><span class="math inline">\(c=\sqrt{a^{2}+b_{0}^{2}+e^{x}}\)</span></p><p>独立公式：</p><figure class="highlight latex"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">$</span><span class="built_in">$</span> </span><br><span class="line">c = <span class="keyword">\sqrt</span>{a<span class="built_in">^</span>{2}+b<span class="built_in">_</span>{0}<span class="built_in">^</span>{2}+e<span class="built_in">^</span>{x}} </span><br><span class="line"><span class="built_in">$</span><span class="built_in">$</span></span><br></pre></td></tr></tbody></table></figure><p><span class="math display">\[c = \sqrt{a^{2}+b_{0}^{2}+e^{x}}\]</span></p><h3 id="转义">转义</h3><p>以下几个字符: <code># $ % &amp; ~ _ ^ \ { }</code> 有特殊意义，需要表示这些字符时，需要转义：</p><table><thead><tr class="header"><th style="text-align: center;">源码</th><th style="text-align: center;">输出</th><th style="text-align: center;">源码</th><th style="text-align: center;">输出</th></tr></thead><tbody><tr class="odd"><td style="text-align: center;"><code>\#</code></td><td style="text-align: center;"><span class="math inline">\(\#\)</span></td><td style="text-align: center;"><code>\_</code></td><td style="text-align: center;"><span class="math inline">\(\_\)</span></td></tr><tr class="even"><td style="text-align: center;"><code>\$</code></td><td style="text-align: center;">$ $ $</td><td style="text-align: center;"><code>\&amp;</code></td><td style="text-align: center;"><span class="math inline">\(\&amp;\)</span></td></tr><tr class="odd"><td style="text-align: center;"><code>\%</code></td><td style="text-align: center;"><span class="math inline">\(\%\)</span></td><td style="text-align: center;"><code>\sim</code></td><td style="text-align: center;"><span class="math inline">\(\sim\)</span></td></tr><tr class="even"><td style="text-align: center;"><code>\{</code></td><td style="text-align: center;"><span class="math inline">\(\{\)</span></td><td style="text-align: center;"><code>\wedge</code></td><td style="text-align: center;"><span class="math inline">\(\wedge\)</span></td></tr><tr class="odd"><td style="text-align: center;"><code>\}</code></td><td style="text-align: center;"><span class="math inline">\(\}\)</span></td><td style="text-align: center;"><code>\textbackslash</code></td><td style="text-align: center;"><span class="math inline">\(\textbackslash\)</span></td></tr></tbody></table><p>也可以使用 <code>\verb||</code> 命令，输入即输出：</p><figure class="highlight latex"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">$</span><span class="keyword">\verb</span>|<span class="string">#^~&amp;</span>|<span class="built_in">$</span></span><br></pre></td></tr></tbody></table></figure><p>$  $</p><h3 id="字体">字体</h3><h4 id="基础">基础</h4><ul><li><p>加粗：</p><figure class="highlight latex"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">$</span><span class="keyword">\mathbf</span>{E=mc<span class="built_in">^</span>2}<span class="built_in">$</span></span><br></pre></td></tr></tbody></table></figure><p><span class="math inline">\(\mathbf{E=mc^2}\)</span></p></li><li><p> 斜体：</p><figure class="highlight latex"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">$</span><span class="keyword">\mathit</span>{E=mc<span class="built_in">^</span>2}<span class="built_in">$</span></span><br></pre></td></tr></tbody></table></figure><p><span class="math inline">\(\mathit{E=mc^2}\)</span></p></li><li><p> 加粗 &amp; 斜体：</p><figure class="highlight latex"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">$</span><span class="keyword">\boldsymbol</span>{E = mc<span class="built_in">^</span>2}<span class="built_in">$</span></span><br></pre></td></tr></tbody></table></figure><p><span class="math inline">\(\boldsymbol{E = mc^2}\)</span></p></li><li><p> 加方框：</p><figure class="highlight latex"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">$</span><span class="keyword">\boxed</span>{E=mc<span class="built_in">^</span>2}<span class="built_in">$</span></span><br></pre></td></tr></tbody></table></figure><p><span class="math inline">\(\boxed{E=mc^2}\)</span></p></li></ul><h4 id="大小">大小</h4><ul><li><p>文字：</p><figure class="highlight latex"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">$</span>A <span class="keyword">\large</span>{A} <span class="keyword">\small</span>{A}<span class="built_in">$</span></span><br></pre></td></tr></tbody></table></figure><p><span class="math inline">\(A \large{A} \small{A}\)</span></p></li><li><p> 括号</p><figure class="highlight latex"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">$</span><span class="keyword">\Bigg</span>( <span class="keyword">\bigg</span>( <span class="keyword">\Big</span>( <span class="keyword">\big</span>((x<span class="keyword">\}</span> <span class="keyword">\big</span><span class="keyword">\}</span> <span class="keyword">\Big</span><span class="keyword">\}</span> <span class="keyword">\bigg</span><span class="keyword">\}</span> <span class="keyword">\Bigg</span><span class="keyword">\}</span><span class="built_in">$</span></span><br></pre></td></tr></tbody></table></figure><p><span class="math inline">\(\Bigg( \bigg( \Big( \big((x\} \big\} \Big\} \bigg\} \Bigg\}\)</span></p><p><em>可使用 <code>\left</code> 与 <code>\right</code> 进行大小自动调整，在 <code>07. 高级使用</code>中提及</em></p></li></ul><h4 id="颜色">颜色</h4><table><thead><tr class="header"><th>源码</th><th>输出</th></tr></thead><tbody><tr class="odd"><td><code>{\color{Red} x}</code></td><td><span class="math inline">\({\color{Red} x}\)</span></td></tr><tr class="even"><td><code>{\color{Green} x}</code></td><td><span class="math inline">\({\color{Green} x}\)</span></td></tr><tr class="odd"><td><code>{\color{Blue} x}</code></td><td><span class="math inline">\({\color{Blue} x}\)</span></td></tr><tr class="even"><td><code>{\color{Yellow} x}</code></td><td><span class="math inline">\({\color{Yellow} x}\)</span></td></tr><tr class="odd"><td><code>{\color{Cyan} x}</code></td><td><span class="math inline">\({\color{Cyan} x}\)</span></td></tr><tr class="even"><td><code>{\color{Magenta} x}</code></td><td><span class="math inline">\({\color{Magenta} x}\)</span></td></tr><tr class="odd"><td><code>{\color{Teal} x}</code></td><td><span class="math inline">\({\color{Teal} x}\)</span></td></tr><tr class="even"><td><code>{\color{Orange} x}</code></td><td><span class="math inline">\({\color{Orange} x}\)</span></td></tr><tr class="odd"><td><code>{\color{Pink} x}</code></td><td><span class="math inline">\({\color{Pink} x}\)</span></td></tr></tbody></table><h3 id="字符">字符</h3><h4 id="希腊字母">希腊字母</h4><table><colgroup><col style="width: 28%"><col style="width: 28%"><col style="width: 21%"><col style="width: 21%"></colgroup><thead><tr class="header"><th style="text-align: center;">源码</th><th style="text-align: center;">输出</th><th style="text-align: center;">源码</th><th style="text-align: center;">输出</th></tr></thead><tbody><tr class="odd"><td style="text-align: center;"><code>\alpha A</code></td><td style="text-align: center;"><span class="math inline">\(\alpha A\)</span></td><td style="text-align: center;"><code>\mu N</code></td><td style="text-align: center;"><span class="math inline">\(\mu N\)</span></td></tr><tr class="even"><td style="text-align: center;"><code>\beta B</code></td><td style="text-align: center;"><span class="math inline">\(\beta B\)</span></td><td style="text-align: center;"><code>\xi \Xi</code></td><td style="text-align: center;"><span class="math inline">\(\xi \Xi\)</span></td></tr><tr class="odd"><td style="text-align: center;"><code>\gamma \Gamma</code></td><td style="text-align: center;"><span class="math inline">\(\gamma \Gamma\)</span></td><td style="text-align: center;"><code>o O</code></td><td style="text-align: center;"><span class="math inline">\(o O\)</span></td></tr><tr class="even"><td style="text-align: center;"><code>\delta \ Delta</code></td><td style="text-align: center;"><span class="math inline">\(\delta \ Delta\)</span></td><td style="text-align: center;"><code>\pi \Pi</code></td><td style="text-align: center;"><span class="math inline">\(\pi \Pi\)</span></td></tr><tr class="odd"><td style="text-align: center;"><code>\epsilon \varepsilon E</code></td><td style="text-align: center;"><span class="math inline">\(\epsilon \varepsilon E\)</span></td><td style="text-align: center;"><code>\rho \varrho P</code></td><td style="text-align: center;"><span class="math inline">\(\rho \varrho P\)</span></td></tr><tr class="even"><td style="text-align: center;"><code>\zeta Z</code></td><td style="text-align: center;"><span class="math inline">\(\zeta Z\)</span></td><td style="text-align: center;"><code>\sigma \Sigma</code></td><td style="text-align: center;"><span class="math inline">\(\sigma \Sigma\)</span></td></tr><tr class="odd"><td style="text-align: center;"><code>\eta H</code></td><td style="text-align: center;"><span class="math inline">\(\eta H\)</span></td><td style="text-align: center;"><code>\tau T</code></td><td style="text-align: center;"><span class="math inline">\(\tau T\)</span></td></tr><tr class="even"><td style="text-align: center;"><code>\theta \vartheta \Theta</code></td><td style="text-align: center;"><span class="math inline">\(\theta \vartheta \Theta\)</span></td><td style="text-align: center;"><code>\upsilon \Upsilon</code></td><td style="text-align: center;"><span class="math inline">\(\upsilon \Upsilon\)</span></td></tr><tr class="odd"><td style="text-align: center;"><code>\iota I</code></td><td style="text-align: center;"><span class="math inline">\(\iota I\)</span></td><td style="text-align: center;"><code>\phi \varphi \Phi</code></td><td style="text-align: center;"><span class="math inline">\(\phi \varphi \Phi\)</span></td></tr><tr class="even"><td style="text-align: center;"><code>\kappa K</code></td><td style="text-align: center;"><span class="math inline">\(\kappa K\)</span></td><td style="text-align: center;"><code>\chi X</code></td><td style="text-align: center;"><span class="math inline">\(\chi X\)</span></td></tr><tr class="odd"><td style="text-align: center;"><code>\lambda \Lambda</code></td><td style="text-align: center;"><span class="math inline">\(\lambda \Lambda\)</span></td><td style="text-align: center;"><code>\psi \Psi</code></td><td style="text-align: center;"><span class="math inline">\(\psi \Psi\)</span></td></tr><tr class="even"><td style="text-align: center;"><code>\mu M</code></td><td style="text-align: center;"><span class="math inline">\(\mu M\)</span></td><td style="text-align: center;"><code>\omega \Omega</code></td><td style="text-align: center;"><span class="math inline">\(\omega \Omega\)</span></td></tr></tbody></table><h4 id="特殊关系符运算符">特殊关系符 &amp; 运算符</h4><table><thead><tr class="header"><th style="text-align: center;">代码</th><th style="text-align: center;">输出</th></tr></thead><tbody><tr class="odd"><td style="text-align: center;"><code>\neq</code> 或 <code>\not=</code></td><td style="text-align: center;"><span class="math inline">\(\not=\)</span></td></tr><tr class="even"><td style="text-align: center;"><code>\approx</code></td><td style="text-align: center;"><span class="math inline">\(\approx\)</span></td></tr><tr class="odd"><td style="text-align: center;"><code>\equiv</code></td><td style="text-align: center;"><span class="math inline">\(\equiv\)</span></td></tr><tr class="even"><td style="text-align: center;"><code>\le</code> 或 <code>\leq</code></td><td style="text-align: center;"><span class="math inline">\(\le\)</span></td></tr><tr class="odd"><td style="text-align: center;"><code>\ge</code> 或 <code>\geq</code></td><td style="text-align: center;"><span class="math inline">\(\ge\)</span></td></tr><tr class="even"><td style="text-align: center;"><code>\in</code></td><td style="text-align: center;"><span class="math inline">\(\in\)</span></td></tr><tr class="odd"><td style="text-align: center;"><code>\subseteq</code></td><td style="text-align: center;"><span class="math inline">\(\subseteq\)</span></td></tr><tr class="even"><td style="text-align: center;"><code>\nsubseteq</code></td><td style="text-align: center;"><span class="math inline">\(\nsubseteq\)</span></td></tr><tr class="odd"><td style="text-align: center;"><code>\cap</code></td><td style="text-align: center;"><span class="math inline">\(\cap\)</span></td></tr><tr class="even"><td style="text-align: center;"><code>\cup</code></td><td style="text-align: center;"><span class="math inline">\(\cup\)</span></td></tr><tr class="odd"><td style="text-align: center;"><code>\mid</code></td><td style="text-align: center;"><span class="math inline">\(\mid\)</span></td></tr><tr class="even"><td style="text-align: center;"><code>\times</code></td><td style="text-align: center;"><span class="math inline">\(\times\)</span></td></tr><tr class="odd"><td style="text-align: center;"><code>\cdot</code></td><td style="text-align: center;"><span class="math inline">\(\cdot\)</span></td></tr><tr class="even"><td style="text-align: center;"><code>\div</code></td><td style="text-align: center;"><span class="math inline">\(\div\)</span></td></tr><tr class="odd"><td style="text-align: center;"><code>\pm</code></td><td style="text-align: center;"><span class="math inline">\(\pm\)</span></td></tr><tr class="even"><td style="text-align: center;"><code>\lfloor \rfloor</code></td><td style="text-align: center;"><span class="math inline">\(\lfloor \rfloor\)</span></td></tr><tr class="odd"><td style="text-align: center;"><code>\lceil \rceil</code></td><td style="text-align: center;"><span class="math inline">\(\lceil \rceil\)</span></td></tr></tbody></table><h4 id="其他常用">其他常用</h4><table><thead><tr class="header"><th style="text-align: center;">名称</th><th style="text-align: center;">源码</th><th style="text-align: center;">输出</th></tr></thead><tbody><tr class="odd"><td style="text-align: center;">度</td><td style="text-align: center;"><code>\circ</code></td><td style="text-align: center;"><span class="math inline">\(\circ\)</span></td></tr><tr class="even"><td style="text-align: center;"> 无穷</td><td style="text-align: center;"><code>\infty</code></td><td style="text-align: center;"><span class="math inline">\(\infty\)</span></td></tr><tr class="odd"><td style="text-align: center;"> 正比于</td><td style="text-align: center;"><code>\proto</code></td><td style="text-align: center;"><span class="math inline">\(\propto\)</span></td></tr><tr class="even"><td style="text-align: center;"> 空集</td><td style="text-align: center;"><code>\emptyset</code></td><td style="text-align: center;"><span class="math inline">\(\emptyset\)</span></td></tr><tr class="odd"><td style="text-align: center;"> 角</td><td style="text-align: center;"><code>\angle</code></td><td style="text-align: center;"><span class="math inline">\(\angle\)</span></td></tr><tr class="even"><td style="text-align: center;"> 对数</td><td style="text-align: center;"><code>\log</code></td><td style="text-align: center;"><span class="math inline">\(\log\)</span></td></tr><tr class="odd"><td style="text-align: center;"> 模</td><td style="text-align: center;"><code>\mod x</code></td><td style="text-align: center;"><span class="math inline">\(\mod x\)</span></td></tr><tr class="even"><td style="text-align: center;"> 换行符</td><td style="text-align: center;"><code>\\</code></td><td style="text-align: center;"></td></tr><tr class="odd"><td style="text-align: center;">因为</td><td style="text-align: center;"><code>\because</code></td><td style="text-align: center;"><span class="math inline">\(\because\)</span></td></tr><tr class="even"><td style="text-align: center;"> 所以</td><td style="text-align: center;"><code>\therefore</code></td><td style="text-align: center;"><span class="math inline">\(\therefore\)</span></td></tr></tbody></table><h4 id="更多">更多</h4><figure><img data-src="/posts/40163972/01.png" alt="img"><figcaption>img</figcaption></figure><figure><img data-src="/posts/40163972/02.png" alt="img"><figcaption>img</figcaption></figure><h4 id="空格">空格</h4><table><thead><tr class="header"><th style="text-align: center;">名称</th><th style="text-align: center;">源码</th><th style="text-align: center;">输出</th><th style="text-align: center;">备注</th></tr></thead><tbody><tr class="odd"><td style="text-align: center;"> quad 空格</td><td style="text-align: center;"> a b</td><td style="text-align: center;"><span class="math inline">\(a \quad b\)</span></td><td style="text-align: center;"> 一个 m 的宽度</td></tr><tr class="even"><td style="text-align: center;">两个 quad 空格</td><td style="text-align: center;"> a b</td><td style="text-align: center;"><span class="math inline">\(a \qquad b\)</span></td><td style="text-align: center;"> 两个 m 的宽度</td></tr><tr class="odd"><td style="text-align: center;">大空格</td><td style="text-align: center;"> a : b</td><td style="text-align: center;"><span class="math inline">\(a \: b\)</span></td><td style="text-align: center;">1/3m 的宽度</td></tr><tr class="even"><td style="text-align: center;">中空格</td><td style="text-align: center;"> a ; b</td><td style="text-align: center;"><span class="math inline">\(a \; b\)</span></td><td style="text-align: center;">2/7m 的宽度</td></tr><tr class="odd"><td style="text-align: center;">小空格</td><td style="text-align: center;"> a , b</td><td style="text-align: center;"><span class="math inline">\(a \, b\)</span></td><td style="text-align: center;">1/6m 的宽度</td></tr><tr class="even"><td style="text-align: center;">无空格</td><td style="text-align: center;"> ab</td><td style="text-align: center;"><span class="math inline">\(ab\)</span></td><td style="text-align: center;"> 无空格</td></tr><tr class="odd"><td style="text-align: center;">缩进空格</td><td style="text-align: center;"><code>a \! b</code></td><td style="text-align: center;"><span class="math inline">\(a \! b\)</span></td><td style="text-align: center;"> 缩进 1/6m 的宽度</td></tr></tbody></table><h3 id="基础公式">基础公式</h3><h4 id="上下标">上下标</h4><figure class="highlight latex"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">$</span><span class="built_in">$</span></span><br><span class="line">x<span class="built_in">_</span>n <span class="keyword">\;</span> x<span class="built_in">_</span>{nn} <span class="keyword">\quad</span></span><br><span class="line">x<span class="built_in">^</span>n <span class="keyword">\;</span> x<span class="built_in">^</span>{nn} </span><br><span class="line"><span class="built_in">$</span><span class="built_in">$</span></span><br></pre></td></tr></tbody></table></figure><p><span class="math display">\[x_n \; x_{nn} \quadx^n \; x^{nn}\]</span></p><p>两边都有上下标可以使用 <code>\sideset</code> 命令：</p><figure class="highlight latex"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">$</span><span class="built_in">$</span></span><br><span class="line"><span class="keyword">\sideset</span>{<span class="built_in">^</span>1<span class="built_in">_</span>2}{<span class="built_in">^</span>3<span class="built_in">_</span>4}<span class="keyword">\bigotimes</span> </span><br><span class="line"><span class="built_in">$</span><span class="built_in">$</span></span><br></pre></td></tr></tbody></table></figure><p><span class="math display">\[\sideset{^1_2}{^3_4}\bigotimes\]</span></p><h4 id="开方">开方</h4><figure class="highlight latex"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">$</span><span class="built_in">$</span></span><br><span class="line"><span class="keyword">\sqrt</span>{x} <span class="keyword">\quad</span> </span><br><span class="line"><span class="keyword">\sqrt</span>[3]{x+y} </span><br><span class="line"><span class="built_in">$</span><span class="built_in">$</span></span><br></pre></td></tr></tbody></table></figure><p><span class="math display">\[\sqrt{x} \quad \sqrt[3]{x+y}\]</span></p><h4 id="分数">分数</h4><figure class="highlight latex"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">$</span><span class="built_in">$</span></span><br><span class="line"><span class="keyword">\frac</span>{1}{2} </span><br><span class="line"><span class="keyword">\frac</span>12 </span><br><span class="line"><span class="built_in">$</span><span class="built_in">$</span></span><br></pre></td></tr></tbody></table></figure><p><span class="math display">\[\frac{1}{2} \frac12\]</span></p><p><strong>行间公式（不改变正文行间距）：</strong><code>\tfrac</code></p><figure class="highlight latex"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">$</span> <span class="keyword">\frac</span>{1}{2} <span class="keyword">\dfrac</span>{1}{2} <span class="built_in">$</span> </span><br></pre></td></tr></tbody></table></figure><p><span class="math inline">\(\frac{1}{2}\dfrac{1}{2}\)</span></p><p><strong>独立公式：</strong><code>\dfrac</code></p><figure class="highlight latex"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">$</span><span class="built_in">$</span></span><br><span class="line"><span class="keyword">\frac</span>{1}{2}<span class="keyword">\tfrac</span>{1}{2} </span><br><span class="line"><span class="built_in">$</span><span class="built_in">$</span></span><br></pre></td></tr></tbody></table></figure><p><span class="math display">\[\frac{1}{2} \tfrac{1}{2}\]</span></p><p><em>注：他们是相对而言的。<code>frac</code> 在 <code>$$\frac{}{}$$</code> 中为 <code>dfrac</code>; 在 <code>$\frac{}{}</code> 中为 <code>tfrac</code></em></p><p><strong>连分数用：</strong><code>\cfrac</code> （不会产生字体自动缩小的问题）</p><figure class="highlight latex"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">$</span><span class="built_in">$</span></span><br><span class="line">x = a <span class="built_in">_</span> 0 + <span class="keyword">\cfrac</span> {1} {a <span class="built_in">_</span> 1</span><br><span class="line">          + <span class="keyword">\cfrac</span> {1} {a <span class="built_in">_</span> 2</span><br><span class="line">          + <span class="keyword">\cfrac</span> {1} {a <span class="built_in">_</span> 3 + <span class="keyword">\cfrac</span> {1} {a <span class="built_in">_</span> 4} } } } </span><br><span class="line"><span class="built_in">$</span><span class="built_in">$</span></span><br></pre></td></tr></tbody></table></figure><p><span class="math display">\[x = a _ 0 + \cfrac {1} {a _ 1          + \cfrac {1} {a _ 2          + \cfrac {1} {a _ 3 + \cfrac {1} {a _ 4} } } }\]</span></p><h4 id="和积极限积分">和 &amp; 积 &amp; 极限 &amp; 积分</h4><table><thead><tr class="header"><th>源码</th><th>输出</th></tr></thead><tbody><tr class="odd"><td><code>\sum_a^b</code></td><td><span class="math inline">\(\sum_a^b\)</span></td></tr><tr class="even"><td><code>\prod_a^b</code></td><td><span class="math inline">\(\prod_a^b\)</span></td></tr><tr class="odd"><td><code>\lim_a^b</code></td><td><span class="math inline">\(\lim_a^b\)</span></td></tr><tr class="even"><td><code>\int_a^b</code></td><td><span class="math inline">\(\int_a^b\)</span></td></tr><tr class="odd"><td><code>\iint</code></td><td><span class="math inline">\(\iint\)</span></td></tr><tr class="even"><td><code>\iiiint</code></td><td><span class="math inline">\(\iiiint\)</span></td></tr><tr class="odd"><td><code>\idotsint</code></td><td><span class="math inline">\(\idotsint\)</span></td></tr></tbody></table><p><em>上述公式在行内公式中被压缩，可使用 <code>\limits</code> 和 <code>\nolimits</code> 命令其是否压缩</em></p><figure class="highlight latex"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">$</span><span class="built_in">$</span></span><br><span class="line"><span class="keyword">\sum</span><span class="built_in">_</span>{a}<span class="built_in">^</span>{b} <span class="keyword">\quad</span></span><br><span class="line"><span class="keyword">\sum</span><span class="keyword">\unlimits</span><span class="built_in">_</span>{a}<span class="built_in">^</span>{b}</span><br><span class="line"><span class="built_in">$</span><span class="built_in">$</span></span><br></pre></td></tr></tbody></table></figure><p><span class="math display">\[\sum_{a}^{b} \quad\sum\nolimits_{a}^{b}\]</span></p><h3 id="添加符号">添加符号</h3><h4 id="堆积符号">堆积符号</h4><ul><li><code>\stackrel</code>： 基位符号大，上位符号小</li><li><code>\atop</code>：上下符号一样大</li><li><code>\choose</code>：上下符号一样大（带括号）</li><li><code>\binom</code>：上下符号一样大（带括号）</li></ul><figure class="highlight latex"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">$</span><span class="built_in">$</span></span><br><span class="line"><span class="keyword">\stackrel</span>{<span class="keyword">\triangle</span>}{=} <span class="keyword">\quad</span></span><br><span class="line">{a<span class="keyword">\atop</span> b} <span class="keyword">\quad</span></span><br><span class="line">{a<span class="keyword">\choose</span> b} <span class="keyword">\quad</span></span><br><span class="line"><span class="keyword">\binom</span>{a}{b}</span><br><span class="line"><span class="built_in">$</span><span class="built_in">$</span></span><br></pre></td></tr></tbody></table></figure><p><span class="math display">\[\stackrel{\triangle}{=} \quad{a\atop b} \quad{a\choose b} \quad\binom{a}{b}\]</span></p><h4 id="标注">标注</h4><p>通用：</p><figure class="highlight latex"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">$</span><span class="built_in">$</span></span><br><span class="line"><span class="keyword">\underset</span>{n}{x} <span class="keyword">\quad</span></span><br><span class="line"><span class="keyword">\overset</span>{n}{x}</span><br><span class="line"><span class="built_in">$</span><span class="built_in">$</span></span><br></pre></td></tr></tbody></table></figure><p><span class="math display">\[\underset{x}{n} \quad\overset{x}{n}\]</span></p><p>特殊：</p><table><thead><tr class="header"><th style="text-align: center;">源码</th><th style="text-align: center;">输出</th></tr></thead><tbody><tr class="odd"><td style="text-align: center;"><code>\dot{x}</code></td><td style="text-align: center;"><span class="math inline">\(\dot{x}\)</span></td></tr><tr class="even"><td style="text-align: center;"><code>\dddot{x}</code></td><td style="text-align: center;"><span class="math inline">\(\dddot{x}\)</span></td></tr><tr class="odd"><td style="text-align: center;"><code>\mathring{x}</code></td><td style="text-align: center;"><span class="math inline">\(\mathring{x}\)</span></td></tr><tr class="even"><td style="text-align: center;"><code>\acute{x}</code></td><td style="text-align: center;"><span class="math inline">\(\acute{x}\)</span></td></tr><tr class="odd"><td style="text-align: center;"><code>\grave{x}</code></td><td style="text-align: center;"><span class="math inline">\(\grave{x}\)</span></td></tr><tr class="even"><td style="text-align: center;"><code>\chech{x}</code></td><td style="text-align: center;"><span class="math inline">\(\check{x}\)</span></td></tr><tr class="odd"><td style="text-align: center;"><code>\breve{x}</code></td><td style="text-align: center;"><span class="math inline">\(\breve{x}\)</span></td></tr><tr class="even"><td style="text-align: center;"><code>\hat{x}</code></td><td style="text-align: center;"><span class="math inline">\(\hat{x}\)</span></td></tr><tr class="odd"><td style="text-align: center;"><code>\widehat{xyz}</code></td><td style="text-align: center;"><span class="math inline">\(\widehat{xyz}\)</span></td></tr><tr class="even"><td style="text-align: center;"><code>\tilde{x}</code></td><td style="text-align: center;"><span class="math inline">\(\tilde{x}\)</span></td></tr><tr class="odd"><td style="text-align: center;"><code>\widetilde{x}</code></td><td style="text-align: center;"><span class="math inline">\(\widetilde{x}\)</span></td></tr><tr class="even"><td style="text-align: center;"><code>\bar{x}</code></td><td style="text-align: center;"><span class="math inline">\(\bar{x}\)</span></td></tr><tr class="odd"><td style="text-align: center;"><code>\overline{x}</code></td><td style="text-align: center;"><span class="math inline">\(\overline{x}\)</span></td></tr><tr class="even"><td style="text-align: center;"><code>\underline{x}</code></td><td style="text-align: center;"><span class="math inline">\(\underline{x}\)</span></td></tr><tr class="odd"><td style="text-align: center;"><code>\vec{x}</code></td><td style="text-align: center;"><span class="math inline">\(\vec{x}\)</span></td></tr><tr class="even"><td style="text-align: center;"><code>\overrightarrow{xyz}</code></td><td style="text-align: center;"><span class="math inline">\(\overrightarrow{xyz}\)</span></td></tr><tr class="odd"><td style="text-align: center;"><code>\overleftarrow{xyz}</code></td><td style="text-align: center;"><span class="math inline">\(\overleftarrow{xyz}\)</span></td></tr><tr class="even"><td style="text-align: center;"><code>\underrightarrow{xyz}</code></td><td style="text-align: center;"><span class="math inline">\(\underrightarrow{xyz}\)</span></td></tr><tr class="odd"><td style="text-align: center;"><code>$\overbrace{a\dots a}^{n}$</code></td><td style="text-align: center;"><span class="math inline">\(\overbrace{a\dots a}^{n}\)</span></td></tr><tr class="even"><td style="text-align: center;"><code>$\underbrace{a\dots a}_{n}$</code></td><td style="text-align: center;"><span class="math inline">\(\underbrace{a\dots a}_{n}\)</span></td></tr></tbody></table><h4 id="箭头">箭头</h4><table><thead><tr class="header"><th>源码</th><th>输出</th><th>备注</th></tr></thead><tbody><tr class="odd"><td><code>\leftarrow</code> 或 <code>\gets</code></td><td><span class="math inline">\(\gets\)</span></td><td></td></tr><tr class="even"><td><code>\rightarrow</code> 或 <code>\to</code></td><td><span class="math inline">\(\to\)</span></td><td></td></tr><tr class="odd"><td><code>\uparrow</code></td><td><span class="math inline">\(\uparrow\)</span></td><td></td></tr><tr class="even"><td><code>\downarrow</code></td><td><span class="math inline">\(\downarrow\)</span></td><td></td></tr><tr class="odd"><td><code>\nearrow</code></td><td><span class="math inline">\(\nearrow\)</span></td><td> 东北</td></tr><tr class="even"><td><code>\searrow</code></td><td><span class="math inline">\(\searrow\)</span></td><td> 东南</td></tr><tr class="odd"><td><code>\swarrow</code></td><td><span class="math inline">\(\swarrow\)</span></td><td> 西南</td></tr><tr class="even"><td><code>\nwarrow</code></td><td><span class="math inline">\(\nwarrow\)</span></td><td> 西北</td></tr></tbody></table><p>特殊箭头：</p><ul><li><p>双箭头</p><figure class="highlight latex"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">$</span><span class="built_in">$</span></span><br><span class="line"><span class="keyword">\leftrightarrow</span> <span class="keyword">\quad</span></span><br><span class="line"><span class="keyword">\updownarrow</span></span><br><span class="line"><span class="built_in">$</span><span class="built_in">$</span></span><br></pre></td></tr></tbody></table></figure><p><span class="math display">\[\leftrightarrow \quad\updownarrow\]</span></p></li><li><p> 双横线（首字母大写）</p><figure class="highlight latex"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">$</span><span class="built_in">$</span></span><br><span class="line"><span class="keyword">\Leftrightarrow</span> <span class="keyword">\quad</span></span><br><span class="line"><span class="keyword">\Uparrow</span></span><br><span class="line"><span class="built_in">$</span><span class="built_in">$</span></span><br></pre></td></tr></tbody></table></figure><p><span class="math display">\[\Leftrightarrow \quad\Uparrow\]</span></p></li><li><p> 变长（加 `<code>long</code>）</p><figure class="highlight latex"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">$</span><span class="built_in">$</span></span><br><span class="line"><span class="keyword">\longleftarrow</span> <span class="keyword">\quad</span></span><br><span class="line"><span class="keyword">\longleftrightarrow</span> <span class="keyword">\quad</span></span><br><span class="line"><span class="keyword">\Longleftrightarrow</span> <span class="keyword">\quad</span></span><br><span class="line"><span class="keyword">\iff</span></span><br><span class="line"><span class="built_in">$</span><span class="built_in">$</span></span><br></pre></td></tr></tbody></table></figure><p><span class="math display">\[\longleftarrow \quad\longleftrightarrow \quad\Longleftrightarrow \quad\iff\]</span></p></li><li><p> 半个</p><figure class="highlight latex"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">$</span><span class="built_in">$</span></span><br><span class="line"><span class="keyword">\leftharpoonup</span> <span class="keyword">\quad</span></span><br><span class="line"><span class="keyword">\rightleftharpoons</span></span><br><span class="line"><span class="built_in">$</span><span class="built_in">$</span></span><br></pre></td></tr></tbody></table></figure><p><span class="math display">\[\leftharpoonup \quad\rightleftharpoons\]</span></p></li></ul><h4 id="删除线">删除线</h4><table><thead><tr class="header"><th>源码</th><th>输出</th></tr></thead><tbody><tr class="odd"><td><code>\cancel{xyz}</code></td><td><span class="math inline">\(\cancel{xyz}\)</span></td></tr><tr class="even"><td><code>\bcancel{xyz}</code></td><td><span class="math inline">\(\bcancel{xyz}\)</span></td></tr><tr class="odd"><td><code>\xcancel{xyz}</code></td><td><span class="math inline">\(\xcancel{xyz}\)</span></td></tr><tr class="even"><td><code>\cancelto{abc}{xyz}</code></td><td><span class="math inline">\(\cancelto{abc}{xyz}\)</span></td></tr></tbody></table><h4 id="多行公式括号">多行公式括号</h4><figure class="highlight latex"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">$</span><span class="built_in">$</span></span><br><span class="line"><span class="keyword">\left</span> ( <span class="keyword">\frac</span>12 <span class="keyword">\right</span> ) <span class="keyword">\quad</span></span><br><span class="line"><span class="keyword">\left</span> <span class="keyword">\{</span> <span class="keyword">\frac</span>12 <span class="keyword">\right</span> <span class="keyword">\}</span> <span class="keyword">\quad</span></span><br><span class="line"><span class="keyword">\left</span> [ <span class="keyword">\frac</span>12 <span class="keyword">\right</span> . <span class="keyword">\quad</span></span><br><span class="line"><span class="built_in">$</span><span class="built_in">$</span></span><br></pre></td></tr></tbody></table></figure><p><span class="math display">\[\left ( \frac12 \right ) \quad\left \{ \frac12 \right \} \quad\left [ \frac12 \right . \quad\]</span></p><p>注：<code>\left</code> 和 <code>\right</code> 要成对使用，当不想某边符号显示时，使用<code>.</code> 代替</p><p>同时多行公式也可能带来符号太短的问题，可使用 <code>\middle</code> 解决：</p><figure class="highlight latex"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">$</span><span class="built_in">$</span></span><br><span class="line">P=<span class="keyword">\left</span>(A=2|<span class="keyword">\frac</span>{A<span class="built_in">^</span>2}{B}&gt;4<span class="keyword">\right</span>) </span><br><span class="line"><span class="keyword">\quad</span></span><br><span class="line">P=<span class="keyword">\left</span>(A=2<span class="keyword">\middle</span>|<span class="keyword">\frac</span>{A<span class="built_in">^</span>2}{B}&gt;4<span class="keyword">\right</span>) </span><br><span class="line"><span class="built_in">$</span><span class="built_in">$</span></span><br></pre></td></tr></tbody></table></figure><p><span class="math display">\[P=\left(A=2|\frac{A^2}{B}&gt;4\right) \quadP=\left(A=2\middle|\frac{A^2}{B}&gt;4\right)\]</span></p><h4 id="插入文本">插入文本</h4><ul><li><code>\text{}</code>：自动调整文本样式（如大小）</li><li><code>\mbox{}</code>：采用统一正文样式 </li></ul><figure class="highlight latex"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">$</span><span class="built_in">$</span></span><br><span class="line">a<span class="built_in">_</span><span class="keyword">\text</span>{text} <span class="keyword">\quad</span></span><br><span class="line">a<span class="built_in">_</span><span class="keyword">\mbox</span>{text}</span><br><span class="line"><span class="built_in">$</span><span class="built_in">$</span></span><br></pre></td></tr></tbody></table></figure><p><span class="math display">\[a_\text{text} \quada_\mbox{text}\]</span></p><h4 id="编号">编号</h4><figure class="highlight latex"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">$</span><span class="built_in">$</span></span><br><span class="line">y=x<span class="built_in">^</span>2<span class="keyword">\tag</span>{1.1} <span class="comment">% markdown中不支持 \label{} </span></span><br><span class="line"><span class="built_in">$</span><span class="built_in">$</span></span><br></pre></td></tr></tbody></table></figure><p><span class="math display">\[y=x^2\tag {1.1} % markdown 中不支持 \label {}\]</span></p><h3 id="高级使用">高级使用</h3><h4 id="equation">equation</h4><p>最一般的公式环境，表示一个公式，默认情况下之表示一个单行的公式</p><ul><li>独占一行</li><li>自动标号</li></ul><p>若不希望标号，则使用 <code>equation*</code></p><figure class="highlight latex"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">$</span><span class="built_in">$</span></span><br><span class="line"><span class="keyword">\begin</span>{equation}</span><br><span class="line">E=mc<span class="built_in">^</span>2</span><br><span class="line"><span class="keyword">\end</span>{equation}</span><br><span class="line"><span class="built_in">$</span><span class="built_in">$</span></span><br></pre></td></tr></tbody></table></figure><p><span class="math display">\[\begin{equation}E=mc^2\end{equation}\]</span></p><h4 id="align">align</h4><p>最基本的对齐环境，其他多公式环境都不同程度地依赖它</p><ul><li>使用 <code>&amp;</code> 分割对齐单元</li><li>使用 <code>\\</code> 换行 </li></ul><figure class="highlight ruby"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$$</span></span><br><span class="line">\<span class="keyword">begin</span>{align}</span><br><span class="line"><span class="variable constant_">A_</span>{<span class="number">1</span>}&amp;=<span class="variable constant_">B_</span>{<span class="number">1</span>}<span class="variable constant_">B_</span>{<span class="number">2</span>} &amp; <span class="variable constant_">A_</span>{<span class="number">3</span>} &amp; = <span class="variable constant_">B_</span>{<span class="number">1</span>}\\</span><br><span class="line"><span class="variable constant_">A_</span>{<span class="number">2</span>}&amp;=<span class="variable constant_">B_</span>{<span class="number">3</span>}&amp; <span class="variable constant_">A_</span>{<span class="number">3</span>}<span class="variable constant_">A_</span>{<span class="number">4</span>} &amp; = <span class="variable constant_">B_</span>{<span class="number">4</span>}</span><br><span class="line">\<span class="keyword">end</span>{align}</span><br><span class="line"><span class="variable">$$</span></span><br></pre></td></tr></tbody></table></figure><p><span class="math display">\[\begin{align}A_{1}&amp;=B_{1}B_{2} &amp; A_{3} &amp; = B_{1}\\A_{2}&amp;=B_{3}&amp; A_{3}A_{4} &amp; = B_{4}\end{align}\]</span></p><p><code>flalign</code> 列之间为弹性宽度，使公式组两端对齐：</p><figure class="highlight latex"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">$</span><span class="built_in">$</span></span><br><span class="line"><span class="keyword">\begin</span>{flalign}</span><br><span class="line">A<span class="built_in">_</span>{1}<span class="built_in">&amp;</span>=B<span class="built_in">_</span>{1}B<span class="built_in">_</span>{2} <span class="built_in">&amp;</span> A<span class="built_in">_</span>{3} <span class="built_in">&amp;</span> = B<span class="built_in">_</span>{1} <span class="keyword">\\</span></span><br><span class="line">A<span class="built_in">_</span>{2}<span class="built_in">&amp;</span>=B<span class="built_in">_</span>{3}<span class="built_in">&amp;</span> A<span class="built_in">_</span>{3}A<span class="built_in">_</span>{4} <span class="built_in">&amp;</span> = B<span class="built_in">_</span>{4}</span><br><span class="line"><span class="keyword">\end</span>{flalign}</span><br><span class="line"><span class="built_in">$</span><span class="built_in">$</span></span><br></pre></td></tr></tbody></table></figure><p><span class="math display">\[\begin{flalign}A_{1}&amp;=B_{1}B_{2} &amp; A_{3} &amp; = B_{1} \\A_{2}&amp;=B_{3}&amp; A_{3}A_{4} &amp; = B_{4}\end{flalign}\]</span></p><p><code>\aligned</code> 与 <code>\align</code> 比较：</p><ul><li>占据公式的实际宽度，不独占一行</li><li>不自动标号 </li></ul><figure class="highlight latex"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">$</span><span class="built_in">$</span></span><br><span class="line"><span class="keyword">\begin</span>{equation}</span><br><span class="line"> <span class="keyword">\small</span><span class="keyword">\left</span>.<span class="keyword">\begin</span>{aligned}</span><br><span class="line">        B'<span class="built_in">&amp;</span>=-<span class="keyword">\partial</span> <span class="keyword">\times</span> E <span class="keyword">\\</span></span><br><span class="line">        E'<span class="built_in">&amp;</span>=<span class="keyword">\partial</span> <span class="keyword">\times</span> B - 4<span class="keyword">\pi</span> j</span><br><span class="line">       <span class="keyword">\end</span>{aligned}</span><br><span class="line"> <span class="keyword">\right</span><span class="keyword">\}</span></span><br><span class="line"> <span class="keyword">\,</span> <span class="keyword">\text</span>{Maxwell's equations}</span><br><span class="line"><span class="keyword">\end</span>{equation}</span><br><span class="line"><span class="built_in">$</span><span class="built_in">$</span></span><br></pre></td></tr></tbody></table></figure><p><span class="math display">\[\begin{equation} \small\left.\begin{aligned}        B'&amp;=-\partial \times E \\        E'&amp;=\partial \times B - 4\pi j       \end{aligned} \right\} \, \text{Maxwell's equations}\end{equation}\]</span></p><h4 id="gather">gather</h4><p>最简单的多行公式环境，自己不提供任何对齐。其中的各行公式按照全局方式分别对齐</p><figure class="highlight latex"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">$</span><span class="built_in">$</span></span><br><span class="line"><span class="keyword">\begin</span>{gather*}</span><br><span class="line">E(X)=<span class="keyword">\lambda</span>    <span class="keyword">\qquad</span>  D(X)=<span class="keyword">\lambda</span>    <span class="keyword">\\</span></span><br><span class="line">E(<span class="keyword">\bar</span>{X})=<span class="keyword">\lambda</span>  <span class="keyword">\\</span></span><br><span class="line">D(<span class="keyword">\bar</span>{X})=<span class="keyword">\frac</span>{<span class="keyword">\lambda</span>}{n}    <span class="keyword">\\</span></span><br><span class="line">E(S<span class="built_in">^</span>2)=<span class="keyword">\frac</span>{n-1}{n}<span class="keyword">\lambda</span> <span class="keyword">\\</span></span><br><span class="line"><span class="keyword">\end</span>{gather*}</span><br><span class="line"><span class="built_in">$</span><span class="built_in">$</span></span><br></pre></td></tr></tbody></table></figure><p><span class="math display">\[\begin{gather*}E(X)=\lambda    \qquad  D(X)=\lambda    \\E(\bar{X})=\lambda  \\D(\bar{X})=\frac{\lambda}{n}    \\E(S^2)=\frac{n-1}{n}\lambda \\\end{gather*}\]</span></p><p><code>\gathered</code> 的与 <code>\gather</code> 异同可参照 <code>\aligned</code></p><h4 id="multline">multline</h4><p>用于编写长公式，不支持 “&amp;” 分列，其首行左对齐，末行右对齐，其余各行分别按照全局方式对齐</p><figure class="highlight latex"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">$</span><span class="built_in">$</span></span><br><span class="line"><span class="keyword">\begin</span>{multline}</span><br><span class="line">x=a+b+c+{} <span class="keyword">\\</span></span><br><span class="line">d+e+f+g</span><br><span class="line"><span class="keyword">\end</span>{multline}</span><br><span class="line"><span class="built_in">$</span><span class="built_in">$</span></span><br></pre></td></tr></tbody></table></figure><p><span class="math display">\[\begin{multline}x=a+b+c+{} \\d+e+f+g\end{multline}\]</span></p><h4 id="split">split</h4><p>用于编写长公式，用 &amp; 作为分列符，但至多两列；如果不用分列符 &amp;，所有公式与首行右对齐。</p><figure class="highlight latex"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">$</span><span class="built_in">$</span></span><br><span class="line"><span class="keyword">\begin</span>{split}</span><br><span class="line">x=<span class="built_in">&amp;</span>a+b+c+{} <span class="keyword">\\</span></span><br><span class="line"><span class="built_in">&amp;</span>d+e+f+g</span><br><span class="line"><span class="keyword">\end</span>{split}</span><br><span class="line"><span class="built_in">$</span><span class="built_in">$</span></span><br></pre></td></tr></tbody></table></figure><p><span class="math display">\[\begin{split}x=&amp;a+b+c+{} \\&amp;d+e+f+g\end{split}\]</span></p><h4 id="cases">cases</h4><p>常用于分段函数</p><figure class="highlight latex"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">$</span><span class="built_in">$</span></span><br><span class="line">L(Y,f(X))=</span><br><span class="line"><span class="keyword">\begin</span>{cases}</span><br><span class="line">1,<span class="keyword">\quad</span> <span class="built_in">&amp;</span>Y<span class="keyword">\neq</span> f(X)<span class="keyword">\\</span></span><br><span class="line">0,<span class="keyword">\quad</span> <span class="built_in">&amp;</span>Y=f(X)</span><br><span class="line"><span class="keyword">\end</span>{cases}</span><br><span class="line"><span class="built_in">$</span><span class="built_in">$</span></span><br></pre></td></tr></tbody></table></figure><p><span class="math display">\[L(Y,f(X))=\begin{cases}1,\quad &amp;Y\neq f(X)\\0,\quad &amp;Y=f(X)\end{cases}\]</span></p><h4 id="array">array</h4><p>阵列环境 array 可以帮助我们输入一个数组或表格</p><p>对齐：</p><ul><li>居中：<code>c</code></li><li>左对齐：<code>l</code></li><li>右对齐：<code>r</code></li></ul><p>分割线：</p><ul><li>垂直分割：<code>|</code></li><li>水平分割：<code>\hline</code></li></ul><p>元素间使用 <code>&amp;</code>；行末使用 <code>\\</code></p><figure class="highlight latex"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">$</span><span class="built_in">$</span></span><br><span class="line"><span class="keyword">\begin</span>{array}{c|l|c|r}</span><br><span class="line">n <span class="built_in">&amp;</span> <span class="keyword">\text</span>{l} <span class="built_in">&amp;</span> <span class="keyword">\text</span>{c} <span class="built_in">&amp;</span> <span class="keyword">\text</span>{r} <span class="keyword">\\</span></span><br><span class="line"><span class="keyword">\hline</span></span><br><span class="line">1 <span class="built_in">&amp;</span> 0.24 <span class="built_in">&amp;</span> 1 <span class="built_in">&amp;</span> 125 <span class="keyword">\\</span></span><br><span class="line"><span class="keyword">\hline</span></span><br><span class="line">2 <span class="built_in">&amp;</span> -1 <span class="built_in">&amp;</span> 189 <span class="built_in">&amp;</span> -8 <span class="keyword">\\</span></span><br><span class="line"><span class="keyword">\hline</span></span><br><span class="line">3 <span class="built_in">&amp;</span> -20 <span class="built_in">&amp;</span> 2000 <span class="built_in">&amp;</span> 1+10i</span><br><span class="line"><span class="keyword">\end</span>{array}</span><br><span class="line"><span class="built_in">$</span><span class="built_in">$</span></span><br></pre></td></tr></tbody></table></figure><p><span class="math display">\[\begin{array}{c|l|c|r}n &amp; \text{l} &amp; \text{c} &amp; \text{r} \\\hline1 &amp; 0.24 &amp; 1 &amp; 125 \\\hline2 &amp; -1 &amp; 189 &amp; -8 \\\hline3 &amp; -20 &amp; 2000 &amp; 1+10i\end{array}\]</span></p><figure class="highlight latex"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">$</span><span class="built_in">$</span></span><br><span class="line"><span class="keyword">\left</span>(<span class="keyword">\begin</span>{array}{ccc|c}</span><br><span class="line"> a11 <span class="built_in">&amp;</span> a12 <span class="built_in">&amp;</span> a13  <span class="built_in">&amp;</span> b1 <span class="keyword">\\</span></span><br><span class="line">a21 <span class="built_in">&amp;</span> a22  <span class="built_in">&amp;</span> a23 <span class="built_in">&amp;</span> b2  <span class="keyword">\\</span> </span><br><span class="line">a31 <span class="built_in">&amp;</span> a32  <span class="built_in">&amp;</span> a33 <span class="built_in">&amp;</span> b3  <span class="keyword">\\</span></span><br><span class="line"> <span class="keyword">\end</span>{array}<span class="keyword">\right</span>)</span><br><span class="line"> <span class="built_in">$</span><span class="built_in">$</span></span><br></pre></td></tr></tbody></table></figure><p><span class="math display">\[\left(\begin{array}{ccc|c} a11 &amp; a12 &amp; a13  &amp; b1 \\a21 &amp; a22  &amp; a23 &amp; b2  \\ a31 &amp; a32  &amp; a33 &amp; b3  \\ \end{array}\right)\]</span></p><figure class="highlight latex"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">$</span><span class="built_in">$</span></span><br><span class="line"><span class="keyword">\left</span><span class="keyword">\{</span> </span><br><span class="line"><span class="keyword">\begin</span>{array}{c}</span><br><span class="line">a<span class="built_in">_</span>1x+b<span class="built_in">_</span>1y+c<span class="built_in">_</span>1z=d<span class="built_in">_</span>1 <span class="keyword">\\</span> </span><br><span class="line">a<span class="built_in">_</span>2x+b<span class="built_in">_</span>2y+c<span class="built_in">_</span>2z=d<span class="built_in">_</span>2 <span class="keyword">\\</span> </span><br><span class="line">a<span class="built_in">_</span>3x+b<span class="built_in">_</span>3y+c<span class="built_in">_</span>3z=d<span class="built_in">_</span>3</span><br><span class="line"><span class="keyword">\end</span>{array}</span><br><span class="line"><span class="keyword">\right</span>. </span><br><span class="line"><span class="built_in">$</span><span class="built_in">$</span></span><br></pre></td></tr></tbody></table></figure><p><span class="math display">\[\left\{ \begin{array}{c}a_1x+b_1y+c_1z=d_1 \\ a_2x+b_2y+c_2z=d_2 \\ a_3x+b_3y+c_3z=d_3\end{array}\right.\]</span></p><h4 id="matrix">matrix</h4><table><thead><tr class="header"><th>矩阵类型</th><th>矩阵图示</th></tr></thead><tbody><tr class="odd"><td> matrix</td><td><span class="math inline">\(\begin{matrix} 0 &amp; 1 \\ 1 &amp; 0\end{matrix}\)</span></td></tr><tr class="even"><td>pmatrix</td><td><span class="math inline">\(\begin{pmatrix} 0 &amp; 1 \\ 1 &amp; 0\end{pmatrix}\)</span></td></tr><tr class="odd"><td>bmatrix</td><td><span class="math inline">\(\begin{bmatrix} 0 &amp; 1 \\ 1 &amp; 0\end{bmatrix}\)</span></td></tr><tr class="even"><td>Bmatrix</td><td><span class="math inline">\(\begin{Bmatrix} 0 &amp; 1 \\ 1 &amp; 0\end{Bmatrix}\)</span></td></tr><tr class="odd"><td>vmatrix</td><td><span class="math inline">\(\begin{vmatrix} 0 &amp; 1 \\ 1 &amp; 0\end{vmatrix}\)</span></td></tr><tr class="even"><td>Vmatrix</td><td><span class="math inline">\(\begin{Vmatrix} 0 &amp; 1 \\ 1 &amp; 0\end{Vmatrix}\)</span></td></tr><tr class="odd"><td>smallmatrix</td><td><span class="math inline">\(\begin{smallmatrix} 0 &amp; 1 \\ 1 &amp; 0\end{smallmatrix}\)</span></td></tr></tbody></table><figure class="highlight latex"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">$</span><span class="built_in">$</span></span><br><span class="line">        <span class="keyword">\begin</span>{pmatrix}</span><br><span class="line">        1 <span class="built_in">&amp;</span> a<span class="built_in">_</span>1 <span class="built_in">&amp;</span> a<span class="built_in">_</span>1<span class="built_in">^</span>2 <span class="built_in">&amp;</span> <span class="keyword">\cdots</span> <span class="built_in">&amp;</span> a<span class="built_in">_</span>1<span class="built_in">^</span>n <span class="keyword">\\</span></span><br><span class="line">        1 <span class="built_in">&amp;</span> a<span class="built_in">_</span>2 <span class="built_in">&amp;</span> a<span class="built_in">_</span>2<span class="built_in">^</span>2 <span class="built_in">&amp;</span> <span class="keyword">\cdots</span> <span class="built_in">&amp;</span> a<span class="built_in">_</span>2<span class="built_in">^</span>n <span class="keyword">\\</span></span><br><span class="line">        <span class="keyword">\vdots</span> <span class="built_in">&amp;</span> <span class="keyword">\vdots</span> <span class="built_in">&amp;</span> <span class="keyword">\vdots</span> <span class="built_in">&amp;</span> <span class="keyword">\ddots</span> <span class="built_in">&amp;</span> <span class="keyword">\vdots</span> <span class="keyword">\\</span></span><br><span class="line">        1 <span class="built_in">&amp;</span> a<span class="built_in">_</span>m <span class="built_in">&amp;</span> a<span class="built_in">_</span>m<span class="built_in">^</span>2 <span class="built_in">&amp;</span> <span class="keyword">\cdots</span> <span class="built_in">&amp;</span> a<span class="built_in">_</span>m<span class="built_in">^</span>n <span class="keyword">\\</span></span><br><span class="line">        <span class="keyword">\end</span>{pmatrix}</span><br><span class="line"><span class="built_in">$</span><span class="built_in">$</span></span><br></pre></td></tr></tbody></table></figure><p><span class="math display">\[\begin{pmatrix}        1 &amp; a_1 &amp; a_1^2 &amp; \cdots &amp; a_1^n \\        1 &amp; a_2 &amp; a_2^2 &amp; \cdots &amp; a_2^n \\        \vdots &amp; \vdots &amp; \vdots &amp; \ddots &amp; \vdots \\        1 &amp; a_m &amp; a_m^2 &amp; \cdots &amp; a_m^n \\        \end{pmatrix}\]</span></p><h3 id="参考文献">参考文献</h3><p>https://www.jianshu.com/p/22117d964baf</p>]]></content>
      
      
      <categories>
          
          <category> 七国 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> LaTex </tag>
            
            <tag> markdown </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Git 入门笔记</title>
      <link href="/posts/502aa6b7/"/>
      <url>/posts/502aa6b7/</url>
      
        <content type="html"><![CDATA[<h3 id="一什么是git">一、什么是 Git？？</h3><ul><li><p>git</p><p>一个<strong>分布式</strong>的<strong>版本控制系统</strong></p></li><li><p> gitkraken</p><p>一个可视化的 git 管理工具</p></li><li><p> github</p><p>一个 git 的远端仓库（同类的还有 gitlab、gitee 等）</p><blockquote><p>所以，不要把 git 和实验室的 gitlab 混为一谈。git 是管理版本的工具，是对于本地代码的管理；而 gitlab 是一个远端仓库，用于存放 git 管理的代码。</p></blockquote></li></ul><h3 id="二了解git">二、了解 Git</h3><p>所以我们现在先抛开远端仓库，用 git 管理好本地代码先吧！</p><ol type="1"><li><p>git 的三个区域（空间维度）：</p><ul><li><strong>工作区域（Working Directory）</strong>：也就是平时存放代码的地方</li><li><strong>暂存区域（Stage）</strong>：用于临时存放你的改动，事实上它只是一个文件，保存即将提交的文件列表信息</li><li><strong> Git 仓库（Repository）</strong>：是安全存放数据的位置，这里边有你提交的所有版本的数据。</li></ul><p><em>在本地提交代码基本上就是这三个状态的转换</em></p></li><li><p> git 文件的四个状态：</p><ul><li><strong>未跟踪（untracked）</strong>：新文件，没被添加进暂存区过</li><li><strong>已修改（modified）</strong>：对应了在工作区内修改了文件</li><li><strong>已暂存（staged）</strong>：对应了已经把修改的文件提交到暂存区域</li><li><strong>已提交（committed）</strong>：将暂存区域提交到一个新的版本，工作区回归未修改状态</li></ul></li><li><p> git 的版本（时间维度）：</p><figure><img data-src="/posts/502aa6b7/2-2-1.png" alt="截取自http://bramus.github.io/ws2-sws-course-materials/xx.git.html"><figcaption>截取自 http://bramus.github.io/ws2-sws-course-materials/xx.git.html</figcaption></figure><p>每一次 commit 都会根据提交的内容和人计算出哈希值作为这个 commit 的 id。</p><p><code>HEAD</code> 是一个指针，指向当前的状态的 commit；<code>HEAD~</code> 则是指向上一个 commit 的指针（如图为 1d7a184），<code>HEAD~X</code> 则是指向上 X 个 commit 的指针。</p></li></ol><h3 id="三上手git">三、上手 Git！</h3><ul><li><p><strong>来了老弟</strong></p><p>首先，git 为了辨别是谁提交的代码，你必须设置你的 username 和 emial</p><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git config --global user.name <span class="string">"your name"</span></span><br><span class="line">git config --global user.email <span class="string">"your@email.com"</span></span><br></pre></td></tr></tbody></table></figure><p>这仅仅是给 git 辨别提交代码的身份用，你喜欢设置假的或者用我的名字上传我也一点办法也没有。</p><p>以上代码是设置全局的，如果你只想这个用户名和邮箱只对此工程有效，去掉 <code>--global</code> 即可。</p><p>然后就可以初始化仓库</p><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git init</span><br></pre></td></tr></tbody></table></figure><p>至此我们的工程已经进入了由 git 支配的世界</p></li><li><p><strong>工作区 -&gt; 暂存区</strong></p><p>我们可以用以下命令查看目前版本库的状态：</p><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git status</span><br></pre></td></tr></tbody></table></figure><p>顺便插播 <code>status</code> 的部分选项：</p><table><thead><tr class="header"><th>选项</th><th>说明</th></tr></thead><tbody><tr class="odd"><td><code>-s</code>（<code>--short</code>）</td><td>以短格式输出</td></tr><tr class="even"><td><code>-b</code>（<code>--branch</code>）</td><td>显示分支和跟踪信息</td></tr><tr class="odd"><td>...</td><td>...</td></tr></tbody></table><p>如果你刚刚 <code>init</code> 了一个 git 仓库，那么你会发现你的文件处于 untrack 的状态；</p><p>如果你刚刚修改了某个文件，那么你会发现被修改的文件处于 unstage 状态；</p><p>此时我们需要用以下命令将这些文件添加到暂存区中：</p><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git add yourfile</span><br></pre></td></tr></tbody></table></figure><p>特殊用法：</p><table><thead><tr class="header"><th>命令</th><th>说明</th></tr></thead><tbody><tr class="odd"><td><code>git add -A</code></td><td>提交所有变化</td></tr><tr class="even"><td><code>git add -u</code></td><td>提交被修改 (modified) 和被删除 (deleted) 文件，不包括新文件 (new)</td></tr><tr class="odd"><td><code>git add .</code></td><td>提交新文件 (new) 和被修改 (modified) 文件，不包括被删除 (deleted) 文件</td></tr></tbody></table></li><li><p><strong>暂存区 -&gt; Git 仓库</strong></p><p>接下来就是提交代码环节了！</p><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git commit -m <span class="string">"your commit message"</span></span><br></pre></td></tr></tbody></table></figure><p>但是往往事情没有那么简单，有的人提交了代码后发现，好像落了点什么，不要着急不要回退。将新更改好的版本 <code>add</code> 到暂存区后，使用以下命令将这次改变合并到之前的 commit 中：</p><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git commit  --amend</span><br></pre></td></tr></tbody></table></figure><p>如果不需要修改 commit message 的话，还可以加上 <code>--no-edit</code>!</p></li><li><p><strong> 查看状态</strong></p><p>如果说上文的 <code>status</code> 能查看空间维度的状态的话，以下命令就能查看时间维度的状态：</p><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git <span class="built_in">log</span></span><br></pre></td></tr></tbody></table></figure><p><code>log</code> 提供了不少的选项，以下列出少许常用的，更多的建议自行搜索：</p><table><thead><tr class="header"><th>选项</th><th>说明</th></tr></thead><tbody><tr class="odd"><td><code>--graph</code></td><td>显示 ASCII 图形表示的分支合并历史。</td></tr><tr class="even"><td><code>--oneline</code></td><td>只显示提交 ID 和提交信息的第一行</td></tr><tr class="odd"><td>...</td><td>...</td></tr></tbody></table><p>接下来的命令用于找不同：</p><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git diff</span><br></pre></td></tr></tbody></table></figure><p>以下表格很重要：</p><table><thead><tr class="header"><th>比较工作区与上次 commit</th><th> 比较暂存区和上一次 commit</th><th> 比较工作区和暂存区</th></tr></thead><tbody><tr class="odd"><td><code>git diff</code></td><td><code>git diff --cached</code></td><td><code>git diff HEAD</code></td></tr></tbody></table><p>工作区下列命令是对 git 文件进行删除、重命名：</p><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git <span class="built_in">rm</span> fileA.cpp              <span class="comment"># 从git中删除fileA.cpp文件</span></span><br><span class="line">git <span class="built_in">mv</span> fileB.cpp fileC.cpp    <span class="comment">#将fileB.cpp重命名为fileC.cpp</span></span><br></pre></td></tr></tbody></table></figure></li><li><p><strong>暂存修改</strong></p><p>除了 commit，我们还可以用如下命令安全的存放你的现在的状态哦</p><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git stash</span><br></pre></td></tr></tbody></table></figure><p>用如下命令就可以恢复暂存了</p><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git stash pop</span><br></pre></td></tr></tbody></table></figure></li></ul><h3 id="四穿越时间">四、穿越时间</h3><p>欲想穿越，就要搞懂分清两个命令 <code>reset</code> 和 <code>checkout</code></p><ul><li><p><strong>reset</strong></p><p>使用如下命令可以将 <strong>HEAD 分支</strong>移到前一个 commit</p><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git reset HEAD~</span><br></pre></td></tr></tbody></table></figure><p>当然也可以把 <code>HEAD~</code> 替换成你想到达的分支名、commit id！</p><p>注意以下区别：</p><table><thead><tr class="header"><th>命令</th><th>说明</th></tr></thead><tbody><tr class="odd"><td><code>git reset --mixed</code> (默认)</td><td> 修改版本库、暂存区</td></tr><tr class="even"><td><code>git reset --soft</code></td><td>修改版本库</td></tr><tr class="odd"><td><code>git reset --hard</code></td><td>修改版本库、暂存区、工作区</td></tr></tbody></table><p>用 <code>git log</code> 一看，为什么我回到前一个 commit 之后原来的就消失了！？？</p><p>不着急，我们可以使用以下命令找回你的 commit id 和 HEAD 指针！</p><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git reflog</span><br></pre></td></tr></tbody></table></figure><p>而且 <code>reset</code> 还可以单独修改个别文件</p><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git reset [版本] [文件名或路径]</span><br></pre></td></tr></tbody></table></figure></li><li><p><strong>checkout</strong></p><p>使用如下命令可以把 <strong>HEAD 指针</strong>移到某个分支</p><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git checkout [branchname]</span><br></pre></td></tr></tbody></table></figure><p>当然也可以把分支名替换成 HEAD 指针、commit id！</p><p>那么，<code>checkout</code> 和 <code>reset</code> 又有什么区别！！？</p><figure><img data-src="/posts/502aa6b7/1033130145-57a48436a5fcd_articlex.png" alt="图片描述"><figcaption>图片描述</figcaption></figure><p>最重要的区别在于 <code>reset</code> 会移动 HEAD 所指向分支的指向，而 <code>checkout</code> 只移动 HEAD 指针本身！</p><p>这样带来了个问题，使用 checkout 你可以指向一个并没有任何分支指向的 commit！此时 git 便会帮你创建一个<strong>匿名分支</strong>！在匿名分支上的所有操作在你切换到别的分支时会被全部丢弃！</p></li></ul><h3 id="五分支">五、分支</h3><ul><li><p><strong>你的第一个分支</strong></p><p>使用以下命令查看分支状况：</p><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git branch</span><br></pre></td></tr></tbody></table></figure><p>使用以下命令创建名为 develop 的分支，并切换到新分支下：</p><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git branch develop      <span class="comment"># 创建分支</span></span><br><span class="line">git checkout develop    <span class="comment"># 切换到develop分支下</span></span><br></pre></td></tr></tbody></table></figure><p>或者使用下面命令偷懒！</p><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git checkout -b hotfix  <span class="comment"># 创建并切换到hotfix分支下</span></span><br></pre></td></tr></tbody></table></figure></li><li><p><strong>merge 合并！</strong></p><p>以下命令将 develop 分支合并到 master 中：</p><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git checkout master    <span class="comment"># 首先要切换到master分支！</span></span><br><span class="line">git merge develop      <span class="comment"># 将develop分支merge到master中</span></span><br></pre></td></tr></tbody></table></figure><p>要注意的是，使用以上命令，git 会采用默认的 <code>Fast forward</code> 格式进行 <code>merge</code>（因为此时 develop 分支比 master 分支新），这样 <code>merge</code> 的这次操作不会有 <code>commit</code> 信息，<code>log</code> 中也不会有分支的图案。我们可以采取 <code>--no-ff</code> 这种方式保留 <code>merge</code> 的 <code>commit</code> 信息：</p><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git merge --no-ff -m <span class="string">"commit message"</span> develop</span><br></pre></td></tr></tbody></table></figure><p>燃鹅很多时候时期并没有那么简单，更多时候在 merge 之后便会报告合并出现了冲突！git 会在有冲突的文件下作形如以下的标记：</p><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&lt;&lt;&lt;&lt;&lt;&lt;&lt; <span class="string">HEAD</span></span><br><span class="line"><span class="string"># edited in master</span></span><br><span class="line"><span class="string">=======</span></span><br><span class="line"><span class="string"># edited in develop</span></span><br><span class="line"><span class="string">&gt;&gt;&gt;&gt;&gt;&gt;&gt; develop</span></span><br></pre></td></tr></tbody></table></figure><p>这时，<code># edited in develop</code> 和<code># edited in master</code> 发生了冲突，当我们手动处理好冲突之后就可以 <code>commit</code> 代码啦！</p><p>此时，删除 develop 分支也不会有什么影响啊（仅删除了 develop 分支的指针）：</p><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git branch -d develop</span><br></pre></td></tr></tbody></table></figure></li><li><p><strong>rebase</strong></p><p>文字功底匮乏，请看图！</p><figure><img data-src="/posts/502aa6b7/4-3-1.png" alt="重新划分分支冲突"><figcaption>重新划分分支冲突</figcaption></figure><figure><img data-src="/posts/502aa6b7/4-3-2-1581007874185.png" alt="重新划分分支冲突"><figcaption>重新划分分支冲突</figcaption></figure><figure><img data-src="/posts/502aa6b7/4-3-3.png" alt="重新划分分支冲突"><figcaption>重新划分分支冲突</figcaption></figure><figure><img data-src="/posts/502aa6b7/4-3-4.png" alt="重新划分分支冲突"><figcaption>重新划分分支冲突</figcaption></figure><p>故事是这样的，原本在 branch-A 的 C3 基于了 C1 来开发。突然程序出现了个惊天大 bug，情急之下新建了分支 branch-B 修复了惊天大 bug。但是 C3 当然也想在无惊天大 bug 的代码下进行开发呀！于是便把分支 branch-B<code>rebase</code> 到了 branch-A 中，此时 C3*（这时的 C3 已经不是往年的 C3，是没有惊天大 bug 的 C3，故加 *）已经变成了基于 C4 开发了！</p><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git rebase develop</span><br></pre></td></tr></tbody></table></figure><p>在处理冲突之后，使用以下命令就可以成功的 rebase 啦</p><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git rebase --<span class="built_in">continue</span></span><br></pre></td></tr></tbody></table></figure><p><em>注意！rebase 会无情修改别人的 commit！如图 C2、C4</em></p></li></ul><h3 id="六远端仓库">六、远端仓库</h3><p>查看远端仓库：</p><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git remote</span><br></pre></td></tr></tbody></table></figure><p>加上 <code>-v</code> 可显示需要读写远端仓库使用的 Git 保存的简写与其对应的 URL。</p><p>查看某远端仓库更多信息：</p><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git remote show [remote-name]</span><br></pre></td></tr></tbody></table></figure><p>添加远端仓库：</p><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git remote add [shortname] [url]</span><br></pre></td></tr></tbody></table></figure><p>克隆远端仓库：</p><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git <span class="built_in">clone</span> [url]</span><br></pre></td></tr></tbody></table></figure><p>从远端仓库中获得数据：</p><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git fetch [remote-name]</span><br></pre></td></tr></tbody></table></figure><p>如果你有一个分支设置为跟踪一个远端分支，可以使用 <code>git pull</code> 命令来自动的抓取然后合并远端分支到当前分支：</p><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git pull [remote-name]</span><br></pre></td></tr></tbody></table></figure><p>查看本地分支和远端分支的跟踪关系：</p><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git branch -vv</span><br></pre></td></tr></tbody></table></figure><p>推送到远端仓库:</p><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">git push [remote-name] [branch-name]</span><br><span class="line"></span><br><span class="line"><span class="comment"># 同时创建远端分支方法</span></span><br><span class="line">git push [remote-name] [branch-name]:[remote-branch-name]</span><br></pre></td></tr></tbody></table></figure><p>跟踪一个远端分支：</p><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 设置一个已有的本地分支跟踪一个刚刚拉取下来的远端分支</span></span><br><span class="line">git branch -u [remote-name]/[branch-name]</span><br><span class="line"></span><br><span class="line"><span class="comment"># 远端有本地无</span></span><br><span class="line">git checkout --track [remote-name]/[branch-name]</span><br><span class="line"><span class="comment"># 或者</span></span><br><span class="line">git checkout -b [branch-name] [remote-name]/[branch-name]</span><br></pre></td></tr></tbody></table></figure><p>远端仓库重命名：</p><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git remote rename</span><br></pre></td></tr></tbody></table></figure><p>删除远端仓库：</p><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git remote <span class="built_in">rm</span></span><br></pre></td></tr></tbody></table></figure>]]></content>
      
      
      <categories>
          
          <category> 编程 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> git </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>C/C++ 虚函数实现的基本原理</title>
      <link href="/posts/46122/"/>
      <url>/posts/46122/</url>
      
        <content type="html"><![CDATA[<h3 id="概述">1. 概述</h3><p>简单地说，每一个含有虚函数（无论是其本身的，还是继承而来的）的类都至少有一个与之对应的虚函数表，其中存放着该类所有的虚函数对应的函数指针。</p><p>例： <img data-src="/posts/46122/190103092723701.png" alt="img"></p><p>其中：</p><ul><li>B 的虚函数表中存放着 B::foo 和 B::bar 两个函数指针。</li><li>D 的虚函数表中存放的既有继承自 B 的虚函数 B::foo，又有重写（override）了基类虚函数 B::bar 的 D::bar，还有新增的虚函数 D::quz。</li></ul><p><em>提示：为了描述方便，本文在探讨对象内存布局时，将忽略内存对齐对布局的影响。</em></p><h3 id="虚函数表构造过程">2. 虚函数表构造过程</h3><p>从编译器的角度来说，B 的虚函数表很好构造，D 的虚函数表构造过程相对复杂。下面给出了构造 D 的虚函数表的一种方式（仅供参考）： <img data-src="/posts/46122/190103092723702.png" alt="img"></p><p><em>提示：该过程是由编译器完成的，因此也可以说：虚函数替换过程发生在编译时。</em></p><h3 id="虚函数调用过程">3. 虚函数调用过程</h3><p>以下面的程序为例： <img data-src="/posts/46122/190103092723703.png" alt="img"></p><p>编译器只知道 pb 是 B * 类型的指针，并不知道它指向的具体对象类型 ：pb 可能指向的是 B 的对象，也可能指向的是 D 的对象。</p><p>但对于 “pb-&gt;bar ()”，编译时能够确定的是：此处 operator-&gt; 的另一个参数是 B::bar（因为 pb 是 B * 类型的，编译器认为 bar 是 B::bar），而 B::bar 和 D::bar 在各自虚函数表中的偏移位置是相等的。</p><p>无论 pb 指向哪种类型的对象，只要能够确定被调函数在虚函数中的偏移值，待运行时，能够确定具体类型，并能找到相应 vptr 了，就能找出真正应该调用的函数。</p><p><em>提示：本人曾在 “<a href="http://www.cnblogs.com/malecrab/p/5572119.html">C/C++ 杂记：深入理解数据成员指针、函数成员指针</a>” 一文中提到：虚函数指针中的 ptr 部分为虚函数表中的偏移值（以字节为单位）加 1。</em></p><p>B::bar 是一个虚函数指针， 它的 ptr 部分内容为 9，它在 B 的虚函数表中的偏移值为 8（8+1=9）。</p><p>当程序执行到 “pb-&gt;bar ()” 时，已经能够判断 pb 指向的具体类型了：</p><ul><li>如果 pb 指向 B 的对象，可以获取到 B 对象的 vptr，加上偏移值 8（(char*) vptr + 8），可以找到 B::bar。</li><li>如果 pb 指向 D 的对象，可以获取到 D 对象的 vptr，加上偏移值 8（(char*) vptr + 8） ，可以找到 D::bar。</li><li>如果 pb 指向其它类型对象... 同理...</li></ul><h3 id="多重继承">4. 多重继承</h3><p>当一个类继承多个类，且多个基类都有虚函数时，子类对象中将包含多个虚函数表的指针（即多个 vptr），例： <img data-src="/posts/46122/190103092723704.png" alt="img"></p><p>其中：D 自身的虚函数与 B 基类共用了同一个虚函数表，因此也称 B 为 D 的主基类（primary base class）。</p><p>虚函数替换过程与前面描述类似，只是多了一个虚函数表，多了一次拷贝和替换的过程。</p><p>虚函数的调用过程，与前面描述基本类似，区别在于基类指针指向的位置可能不是派生类对象的起始位置，以如下面的程序为例： <img data-src="/posts/46122/190103092723705.png" alt="img"></p><h3 id="菱形继承">5. 菱形继承</h3><p>本文不讨论菱形继承的情形，个人觉得：菱形继承的复杂度远大于它的使用价值，这也是 C++ 让人又爱又恨的原因之一。</p><h3 id="参考文章">参考文章</h3><p>https://www.linuxidc.com/Linux/2019-01/156152.htm</p>]]></content>
      
      
      <categories>
          
          <category> 编程 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> c++ </tag>
            
            <tag> 虚函数 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ubuntu 安装 cuda 和 cudnn</title>
      <link href="/posts/9882/"/>
      <url>/posts/9882/</url>
      
        <content type="html"><![CDATA[<h3 id="一cuda">一、CUDA</h3><p><strong>1. 下载 cuda</strong></p><p><a href="https://developer.nvidia.com/cuda-downloads">cuda 下载地址</a></p><p>或者直接终端下载：</p><p></p><figure class="highlight apache"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">wget</span> http://developer.download.nvidia.com/compute/cuda/<span class="number">10</span>.<span class="number">1</span>/Prod/local_installers/cuda_10.<span class="number">1</span>.<span class="number">243</span>_418.<span class="number">87</span>.<span class="number">00</span>_linux.run</span><br><span class="line"><span class="attribute">sudo</span> sh cuda_10.<span class="number">1</span>.<span class="number">243</span>_418.<span class="number">87</span>.<span class="number">00</span>_linux.run</span><br></pre></td></tr></tbody></table></figure><p></p><p><strong>2. 安装</strong></p><p>cuda8.0 后就集成了 nvidia 显卡驱动，cuda 安装可分为</p><ul><li>不带驱动安装</li><li>带驱动安装</li></ul><p>以下为不带驱动安装：</p><figure><img data-src="/posts/9882/20190703223712283.png" alt="img"><figcaption>img</figcaption></figure><p>输入 accept</p><figure><img data-src="/posts/9882/20190703224837983.png" alt="img"><figcaption>img</figcaption></figure><p>不选择 Driver</p><p><strong>3. 设置 cuda 环境变量</strong></p><p><code>sudo gedit ~/.bashrc</code></p><p>在里面添加：</p><p></p><figure class="highlight elixir"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">export <span class="title class_">LD_LIBRARY_PATH</span>=<span class="variable">$LD_LIBRARY_PATH</span><span class="symbol">:/usr/local/cuda-</span><span class="number">10.1</span>/lib64</span><br><span class="line">export <span class="title class_">PATH</span>=<span class="variable">$PATH</span><span class="symbol">:/usr/local/cuda-</span><span class="number">10.1</span>/bin</span><br><span class="line">export <span class="title class_">CUDA_HOME</span>=<span class="variable">$CUDA_HOME</span><span class="symbol">:/usr/local/cuda-</span><span class="number">10.1</span></span><br></pre></td></tr></tbody></table></figure><p></p><p>== 目录要根据实际安装版本而定 ==</p><p><code>source ~/.bashrc</code></p><p><strong>4. 检查是否安装成功</strong></p><p><code>nvcc --version</code></p><figure><img data-src="/posts/9882/20190703231011626.png" alt="img"><figcaption>img</figcaption></figure><hr><h3 id="二cudnn">二、CUDNN</h3><ol type="1"><li><p>下载 cudnn</p><p><a href="https://developer.nvidia.com/rdp/cudnn-archive">cudnn 下载地址</a></p></li><li><p>安装</p><ul><li><p>deb 安装</p><figure><img data-src="/posts/9882/20190704003428733.png" alt="img"><figcaption>img</figcaption></figure><p>下载如图三个文件</p><figure class="highlight apache"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">sudo</span> dpkg -i libcudnn7_<span class="number">7.0.3.11</span>-<span class="number">1</span>+cuda9.<span class="number">0</span>_amd64.deb</span><br><span class="line"><span class="attribute">sudo</span> dpkg -i libcudnn7-dev_<span class="number">7.0.3.11</span>-<span class="number">1</span>+cuda9.<span class="number">0</span>_amd64.deb</span><br><span class="line"><span class="attribute">sudo</span> dpkg -i libcudnn7-doc_<span class="number">7.0.3.11</span>-<span class="number">1</span>+cuda9.<span class="number">0</span>_amd64.deb</span><br></pre></td></tr></tbody></table></figure></li><li><p>tgz 安装</p><p>解压下载文件</p><p>终端进入解压出来的文件目录</p><figure class="highlight awk"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">sudo cp cuda<span class="regexp">/include/</span>cudnn.h <span class="regexp">/usr/</span>local<span class="regexp">/cuda/i</span>nclude/</span><br><span class="line">sudo cp cuda<span class="regexp">/lib64/</span>libcudnn* <span class="regexp">/usr/</span>local<span class="regexp">/cuda/</span>lib64/</span><br><span class="line">sudo chmod a+r <span class="regexp">/usr/</span>local<span class="regexp">/cuda/i</span>nclude/cudnn.h</span><br><span class="line">sudo chmod a+r <span class="regexp">/usr/</span>local<span class="regexp">/cuda/</span>lib64/libcudnn*</span><br></pre></td></tr></tbody></table></figure><p>（拷贝库和同文件并给予权限）</p></li></ul></li><li><p>检查安装是否成功</p><p><code>cat /usr/local/cuda/include/cudnn.h | grep CUDNN_MAJOR -A 2</code></p></li></ol><hr><h3 id="参考文章">参考文章</h3><p>https://blog.csdn.net/sss_369/article/details/94591280</p><p>https://blog.csdn.net/sss_369/article/details/94592268</p>]]></content>
      
      
      <categories>
          
          <category> 七国 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> cuda </tag>
            
            <tag> 安装 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ubuntu 安装 opencv4</title>
      <link href="/posts/45726/"/>
      <url>/posts/45726/</url>
      
        <content type="html"><![CDATA[<h3 id="一下载">一、下载</h3><ol type="1"><li>下载 opencv 以及 contrib 库</li></ol><p><code>git clone https://github.com/opencv/opencv.git</code></p><p><code>git clone https://github.com/opencv/opencv_contrib.git</code></p><ol start="2" type="1"><li><p>安装依赖项</p><p><code>sudo apt-get install build-essential</code></p><p><code>sudo apt-get install cmake git libgtk2.0-dev pkg-config libavcodec-dev libavformat-dev libswscale-dev</code></p><p><code>sudo apt-get install python-dev python-numpy libtbb2 libtbb-dev libjpeg-dev libpng-dev libtiff-dev libjasper-dev libdc1394-22-dev</code></p></li><li><p>安装 cuda 和 cudnn</p></li><li><p> 安装 cmake-gui</p><p><code>sudo apt-get install cmake-qt-gui</code></p></li></ol><h3 id="二cmake编译安装opencv">二、cmake 编译安装 opencv</h3><p><strong>1. CMAKE</strong></p><p>打开 cmake-gui</p><p>Where is the source code：填写 opencv 源代码目录</p><p>Where is build the binaries：在 opencv 源代码目录内新建一 build 文件（外部构建）</p><p><img data-src="/posts/45726/2019-11-09%2016-22-35%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE.png"></p><ul><li><p>点击 configure</p><ul><li><p>设置：</p><p>CMAKE_BUILD_TYPE=Release</p><p>OPENCV_ENABLE_NONFREE=ON</p><p>OPENCV_GENERATE_PKGCONFIG=ON</p></li><li><p> 设置 contrib 库</p><p>OPENCV_EXTRA_MODULES_PATH=/home/.../opencv_contrib/modules</p><p>设置到 contrib 库源代码内的 modules 文件夹</p></li><li><p>设置安装目录</p><p>CMAKE_INSTALL_PREFIX=/usr/local/opencv4</p><p>默认路径为 /usr/local</p><p>为安装多版本 opencv 建议自定义一个目录</p></li><li><p> CUDA（选）</p><p>勾选 cuda 选项</p></li><li><p>点击 Generate</p></li></ul></li></ul><p><strong>2. 编译安装</strong></p><p>终端进入 build 目录</p><p><code>make -j4</code></p><p>-j4 为四个线程编译</p><p><code>sudo make install</code></p><p>如果安装了 python-dev，这时 Python 应该可以使用 OpenCV 了：</p><figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">$ python </span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">import</span> cv2</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>cv2.__version__</span><br><span class="line"><span class="string">'4.0.1'</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span></span><br></pre></td></tr></tbody></table></figure><p><strong>3. 配置 opencv</strong></p><ul><li><p>让系统在 opencv 安装目录中搜索动态库</p><figure class="highlight stata"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">cd</span> /etc/ld.<span class="keyword">so</span>.<span class="keyword">conf</span>.<span class="keyword">d</span>/</span><br><span class="line">sudo touch opencv4.<span class="keyword">conf</span></span><br><span class="line">sudo <span class="keyword">sh</span> -c 'echo <span class="string">"/usr/local/opencv4/lib"</span> &gt; opencv4.<span class="keyword">conf</span>'</span><br></pre></td></tr></tbody></table></figure><p>== 注意：echo "/usr/local/opencv4/lib" 为 opencv 安装目录 ==</p></li></ul><p>​ 更新 pkg-config：</p><p>​ <code>sudo ldconfig</code></p><ul><li><p>设置 bash：</p><p><code>sudo gedit /etc/bash.bashrc</code></p><p>在末尾追加：</p><figure class="highlight elixir"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="title class_">PKG_CONFIG_PATH</span>=<span class="variable">$PKG_CONFIG_PATH</span><span class="symbol">:/usr/local/opencv4/lib/pkgconfig</span>  </span><br><span class="line">export <span class="title class_">PKG_CONFIG_PATH</span></span><br></pre></td></tr></tbody></table></figure><p>== 注意上面的路径为安装路径！！！==</p><p>保存，执行如下命令使得配置生效：</p><p><code>source /etc/bash.bashrc</code></p><p>查看 opencv 版本：</p><p><code>pkg-config --modversion opencv</code></p></li></ul><p>opencv 安装完成！！</p><h3 id="三测试">三、测试</h3><ul><li><p>opencv 测试</p><figure class="highlight c++"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;opencv2/opencv.hpp&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;opencv2/xfeatures2d.hpp&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"> </span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> cv;</span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> cv::xfeatures2d;         <span class="comment">// 不要忘了导入扩展模块</span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"> </span><br><span class="line">Mat src_img, gray_img;</span><br><span class="line"><span class="type">const</span> string output_name = <span class="string">"SURF特征检测"</span>;</span><br><span class="line"><span class="type">int</span> minHessian = <span class="number">100</span>;                <span class="comment">// 定义SURF中的hessian阈值特征点检测算子</span></span><br><span class="line"><span class="type">int</span> max_value = <span class="number">500</span>;</span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">SURF_detect_func</span><span class="params">(<span class="type">int</span>, <span class="type">void</span> *)</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line"><span class="comment">// SURF特征检测</span></span><br><span class="line">Ptr&lt;SURF&gt; detector = SURF::<span class="built_in">create</span>(minHessian);</span><br><span class="line">vector&lt;KeyPoint&gt; keypoints;</span><br><span class="line">detector-&gt;<span class="built_in">detect</span>(gray_img, keypoints, <span class="built_in">Mat</span>());      <span class="comment">// 检测src_img图像中的SURF特征</span></span><br><span class="line">  <span class="comment">// 绘制关键点</span></span><br><span class="line">Mat keypoint_img;</span><br><span class="line">dracmakelists:<span class="built_in">wKeypoints</span>(gray_img, keypoints, keypoint_img, Scalar::<span class="built_in">all</span>(<span class="number">-1</span>), DrawMatchesFlags::DEFAULT);  <span class="comment">// Scalar::all(-1)这是一种技巧，就是当用一个负数作为关键点颜色，表示每次随机选取颜色。</span></span><br><span class="line"><span class="built_in">imshow</span>(output_name, keypoint_img);</span><br><span class="line">}</span><br><span class="line"> </span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">src_img = <span class="built_in">imread</span>(<span class="string">"1.png"</span>);</span><br><span class="line"><span class="keyword">if</span> (src_img.<span class="built_in">empty</span>())</span><br><span class="line">{</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">"could not load the image...\n"</span>);</span><br><span class="line"><span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line">}</span><br><span class="line"><span class="built_in">namedWindow</span>(<span class="string">"原图"</span>, WINDOW_AUTOSIZE);</span><br><span class="line"><span class="built_in">imshow</span>(<span class="string">"原图"</span>, src_img);</span><br><span class="line"><span class="built_in">cvtColor</span>(src_img, gray_img, COLOR_BGR2GRAY);</span><br><span class="line"><span class="built_in">namedWindow</span>(output_name, WINDOW_AUTOSIZE);</span><br><span class="line"><span class="built_in">createTrackbar</span>(<span class="string">"hessian阈值"</span>, output_name,&amp;minHessian, max_value, SURF_detect_func);</span><br><span class="line"><span class="built_in">SURF_detect_func</span>(<span class="number">0</span>,<span class="number">0</span>);</span><br><span class="line"> </span><br><span class="line"><span class="built_in">waitKey</span>(<span class="number">0</span>);</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><p>CMakeLists.txt:</p><figure class="highlight cmake"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 声明要求的 cmake 最低版本</span></span><br><span class="line"><span class="keyword">cmake_minimum_required</span>( VERSION <span class="number">2.8</span> )</span><br><span class="line"> </span><br><span class="line"><span class="comment"># 声明一个 cmake 工程</span></span><br><span class="line"><span class="keyword">project</span>( opencv_test )</span><br><span class="line"> </span><br><span class="line"><span class="comment"># 设置编译模式</span></span><br><span class="line"><span class="keyword">set</span>( CMAKE_BUILD_TYPE <span class="string">"Debug"</span> )</span><br><span class="line"><span class="keyword">set</span>(CMAKE_CXX_FLAGS   <span class="string">"-std=c++11"</span>)</span><br><span class="line"> </span><br><span class="line"><span class="keyword">find_package</span>(OpenCV <span class="number">4.1</span> REQUIRED)</span><br><span class="line"> </span><br><span class="line"><span class="comment"># 添加一个可执行程序</span></span><br><span class="line"><span class="comment"># 语法：add_executable( 程序名 源代码文件 ）</span></span><br><span class="line"><span class="keyword">add_executable</span>( <span class="keyword">test</span> surf.cpp )</span><br><span class="line"> </span><br><span class="line"><span class="comment"># 将库文件链接到可执行程序上</span></span><br><span class="line"><span class="keyword">target_link_libraries</span>( <span class="keyword">test</span> <span class="variable">${OpenCV_LIBS}</span> )</span><br></pre></td></tr></tbody></table></figure></li><li><p>cuda 测试</p><figure class="highlight c++"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;opencv2/opencv.hpp&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;opencv2/core/version.hpp&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;opencv2/cudaarithm.hpp&gt;</span></span></span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span> <span class="params">(<span class="type">int</span> argc, <span class="type">char</span>* argv[])</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    <span class="keyword">try</span></span><br><span class="line">    {</span><br><span class="line">        <span class="comment">///　读取图片</span></span><br><span class="line">        cv::Mat src_host = cv::<span class="built_in">imread</span>(<span class="string">"1.jpg"</span>, cv::IMREAD_GRAYSCALE);</span><br><span class="line">        <span class="comment">/// 定义GpuMat</span></span><br><span class="line">        cv::cuda::GpuMat dst, src;</span><br><span class="line">        <span class="comment">/// 将主机内存的图像数据上传到GPU内存</span></span><br><span class="line">        src.<span class="built_in">upload</span>(src_host);</span><br><span class="line"> </span><br><span class="line">        <span class="comment">/// 调用GPU的阈值函数(很多使用GPU加速的函数都和CPU版本的函数相同)</span></span><br><span class="line">        cv::cuda::<span class="built_in">threshold</span>(src, dst, <span class="number">120</span>, <span class="number">255</span>, cv::THRESH_BINARY);</span><br><span class="line"> </span><br><span class="line">        cv::Mat result_host;</span><br><span class="line">        <span class="comment">/// 从GPU上下载阈值化完成的图片</span></span><br><span class="line">        dst.<span class="built_in">download</span>(result_host);</span><br><span class="line"> </span><br><span class="line">        <span class="comment">/// 显示</span></span><br><span class="line">        cv::<span class="built_in">imshow</span>(<span class="string">"Result"</span>, result_host);</span><br><span class="line">        cv::<span class="built_in">waitKey</span>();</span><br><span class="line">    }</span><br><span class="line">    <span class="built_in">catch</span>(<span class="type">const</span> cv::Exception&amp; ex)</span><br><span class="line">    {</span><br><span class="line">        std::cout &lt;&lt; <span class="string">"Error: "</span> &lt;&lt; ex.<span class="built_in">what</span>() &lt;&lt; std::endl;</span><br><span class="line">    }</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><p>CMakeLists.txt:</p><figure class="highlight cmake"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">cmake_minimum_required</span>(VERSION <span class="number">3.0</span>)</span><br><span class="line"> </span><br><span class="line"><span class="keyword">project</span>(cuda_test)</span><br><span class="line"> </span><br><span class="line"><span class="keyword">set</span>(CUDA_USE_STATIC_CUDA_RUNTIME <span class="keyword">ON</span>) <span class="comment">#这一句解决 cannot find -lopencv_dep_cudart</span></span><br><span class="line"><span class="keyword">set</span>(CMAKE_CXX_STANDARD <span class="number">11</span>)</span><br><span class="line"><span class="keyword">set</span>(CMAKE_RUNTIME_OUTPUT_DIRECTORY <span class="variable">${CMAKE_SOURCE_DIR}</span>)</span><br><span class="line"> </span><br><span class="line"><span class="keyword">find_package</span>(CUDA REQUIRED)</span><br><span class="line"><span class="keyword">message</span>(STATUS <span class="string">"CUDA版本: ${CUDA_VERSION}"</span>)</span><br><span class="line"><span class="keyword">message</span>(STATUS <span class="string">"    头文件目录：${CUDA_INCLUDE_DIRS}"</span>)</span><br><span class="line"><span class="keyword">message</span>(STATUS <span class="string">"    库文件列表：${CUDA_LIBRARIES}"</span>)</span><br><span class="line"><span class="keyword">set</span>(CUDA_NVCC_FLAGS -G;-g;-std=c++<span class="number">11</span>) <span class="comment"># nvcc flags</span></span><br><span class="line"><span class="keyword">include_directories</span>(<span class="variable">${CUDA_INCLUDE_DIRS}</span>)</span><br><span class="line"> </span><br><span class="line"> </span><br><span class="line"><span class="keyword">set</span>(OpenCV_DIR <span class="string">"/usr/local/share/OpenCV"</span>) <span class="comment"># 指定OpenCV安装路径来区分不同的OpenCV版本</span></span><br><span class="line"><span class="keyword">find_package</span>(OpenCV REQUIRED)</span><br><span class="line"><span class="keyword">set</span>(OpenCV_LIB_DIR <span class="variable">${OpenCV_INSTALL_PATH}</span>/lib)</span><br><span class="line"><span class="keyword">message</span>(STATUS <span class="string">"OpenCV版本: ${OpenCV_VERSION}"</span>)</span><br><span class="line"><span class="keyword">message</span>(STATUS <span class="string">"    头文件目录：${OpenCV_INCLUDE_DIRS}"</span>)</span><br><span class="line"><span class="keyword">message</span>(STATUS <span class="string">"    库文件目录：${OpenCV_LIB_DIR}"</span>)</span><br><span class="line"><span class="keyword">message</span>(STATUS <span class="string">"    库文件列表：${OpenCV_LIBS}"</span>)</span><br><span class="line"><span class="keyword">include_directories</span>(<span class="variable">${OpenCV_INCLUDE_DIRS}</span>)</span><br><span class="line"><span class="keyword">link_directories</span>(<span class="variable">${OpenCV_LIB_DIR}</span>)</span><br><span class="line"> </span><br><span class="line"> </span><br><span class="line">CUDA_ADD_EXECUTABLE(main main.cpp)</span><br><span class="line"><span class="keyword">target_link_libraries</span>(main <span class="variable">${OpenCV_LIBS}</span> <span class="variable">${CUDA_LIBRARIES}</span>)</span><br></pre></td></tr></tbody></table></figure></li></ul><h3 id="参考文章">参考文章</h3><p>https://blog.csdn.net/sss_369/article/details/94755824</p>]]></content>
      
      
      <categories>
          
          <category> 七国 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 安装 </tag>
            
            <tag> opencv </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>markdown 基本语法</title>
      <link href="/posts/8530/"/>
      <url>/posts/8530/</url>
      
        <content type="html"><![CDATA[<span id="more"></span><p>Markdown 是一种纯文本格式的标记语言。通过简单的标记语法，它可以使普通文本内容具有一定的格式。</p><h3 id="标题">标题</h3><p>在想要设置为标题的文字前面加 #来表示 一个 #是一级标题，二个 #是二级标题，以此类推。支持六级标题。</p><figure class="highlight markdown"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="section"># 这是一级标题</span></span><br><span class="line"><span class="section">## 这是二级标题</span></span><br><span class="line"><span class="section">### 这是三级标题</span></span><br><span class="line"><span class="section">#### 这是四级标题</span></span><br><span class="line"><span class="section">##### 这是五级标题</span></span><br><span class="line"><span class="section">###### 这是六级标题</span></span><br></pre></td></tr></tbody></table></figure><h3 id="字体">字体</h3><ul><li><p><strong>加粗</strong></p><p>左右分别用两个 * 号包起来</p><figure class="highlight markdown"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="strong">**加粗文字**</span></span><br></pre></td></tr></tbody></table></figure></li><li><p><strong>斜体</strong></p><p>左右分别用一个 * 号包起来</p><figure class="highlight markdown"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="emphasis">*斜体文字*</span></span><br></pre></td></tr></tbody></table></figure></li><li><p><strong>斜体加粗</strong></p><p>左右分别用三个 * 号包起来</p><figure class="highlight markdown"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="strong">**<span class="emphasis">*斜体加粗*</span>**</span></span><br></pre></td></tr></tbody></table></figure></li><li><p><strong>删除线</strong></p><p>左右分别用两个～包起来</p><figure class="highlight markdown"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">~~删除线~~</span><br></pre></td></tr></tbody></table></figure><p><strong>Typora 快捷键：</strong></p><p>粗体: Ctrl+B</p><p>斜体: Ctrl+I</p><p>下划线: Ctrl+U</p><p>删除线: Alt+Shift+5</p></li></ul><h3 id="引用">引用</h3><p>在引用的文字前加 &gt; 即可。引用也可以嵌套，如加两个 &gt;&gt; 三个 &gt;&gt;&gt;</p><figure class="highlight markdown"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&gt;一级引用</span><br><span class="line">&gt;&gt;二级引用</span><br><span class="line">&gt;&gt;&gt;&gt;多级引用</span><br></pre></td></tr></tbody></table></figure><p>效果：</p><blockquote><p>引用</p></blockquote><p><strong>Typora 快捷键：</strong> Ctrl+Shift+Q</p><h3 id="分割线">分割线</h3><p>三个或者三个以上的 - 或者 * 都可以。</p><figure class="highlight markdown"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="section">---</span></span><br><span class="line">----</span><br><span class="line"><span class="strong">**<span class="emphasis">*</span></span></span><br><span class="line"><span class="emphasis"><span class="strong">*</span>**</span><span class="emphasis">*</span></span><br></pre></td></tr></tbody></table></figure><h3 id="图片">图片</h3><p>语法：</p><figure class="highlight markdown"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">![<span class="string">图片下方显示文字</span>](<span class="link">图片地址 "图片title"</span>)</span><br></pre></td></tr></tbody></table></figure><p>示例：</p><figure class="highlight markdown"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">![<span class="string">baidu百度</span>](<span class="link">https://www.baidu.com/img/bd_logo1.png "百度图标"</span>)</span><br></pre></td></tr></tbody></table></figure><p>效果：</p><figure><img data-src="https://www.baidu.com/img/bd_logo1.png" title="百度图标" alt="baidu百度"><figcaption>baidu 百度</figcaption></figure><p><strong>Typora 快捷键：</strong> Ctrl+Shift+I</p><h3 id="超链接">超链接</h3><p>语法：</p><figure class="highlight markdown"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[<span class="string">超链接名</span>](<span class="link">超链接地址 "超链接title"</span>)</span><br><span class="line"></span><br><span class="line">title可有可无</span><br></pre></td></tr></tbody></table></figure><p><strong>Typora 快捷键：</strong> Ctrl+K</p><h3 id="列表">列表</h3><ul><li><p><strong>无序列表</strong></p><p>语法：</p><p>无序列表用 - + * 任何一种都可以</p><figure class="highlight markdown"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="bullet">-</span> 无序列表</span><br><span class="line"><span class="bullet">+</span> 无序列表</span><br><span class="line"><span class="bullet">*</span> 无序列表</span><br></pre></td></tr></tbody></table></figure></li><li><p><strong>有序列表</strong></p><p>语法：</p><p>数字加点</p><figure class="highlight markdown"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="bullet">1.</span> 有序列表</span><br><span class="line"><span class="bullet">2.</span> 有序列表</span><br><span class="line"><span class="bullet">3.</span> 序号跟内容间要有空格</span><br></pre></td></tr></tbody></table></figure></li><li><p><strong>复选框</strong></p><figure class="highlight asciidoc"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="bullet">- </span>[x] 需求分析</span><br><span class="line"><span class="bullet">- </span>[x] 系统设计</span><br><span class="line"><span class="bullet">- </span>[x] 详细设计</span><br><span class="line"><span class="bullet">- </span>[ ] 编码</span><br><span class="line"><span class="bullet">- </span>[ ] 测试</span><br><span class="line"><span class="bullet">- </span>[ ] 交付</span><br></pre></td></tr></tbody></table></figure><ul><li>[x] 需求分析</li><li> [x] 系统设计</li><li> [x] 详细设计</li><li> [ ] 编码</li><li> [ ] 测试</li><li> [ ] 交付</li></ul></li><li><p><strong>列表嵌套</strong></p><p>语法：</p><p>上一级与下一级之间打三个空格</p><figure class="highlight markdown"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="bullet">+</span> 一级无序</span><br><span class="line"><span class="bullet">   1.</span> 二级有序</span><br><span class="line"><span class="bullet">   2.</span> 二级有序</span><br><span class="line"><span class="bullet">+</span> 一级无序</span><br><span class="line"><span class="bullet">   +</span> 二级无序</span><br><span class="line"><span class="bullet">   +</span> 二级无序</span><br></pre></td></tr></tbody></table></figure></li></ul><h3 id="表格">表格</h3><p>语法：</p><figure class="highlight markdown"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">表头|表头|表头</span><br><span class="line">---|:--:|--:</span><br><span class="line">内容|居中|居右|</span><br><span class="line"></span><br><span class="line">第二行分割表头和内容，-有一个就行，可多加对齐</span><br><span class="line">文字默认居左</span><br><span class="line">文字居中：-两边加：</span><br><span class="line">文字居右：-右边加：</span><br><span class="line"></span><br><span class="line">注：原生的语法两边都要用 | 包起来。</span><br></pre></td></tr></tbody></table></figure><p><strong>Typora 快捷键：</strong> Ctrl+T</p><h3 id="代码">代码</h3><p><strong>单行代码：</strong></p><figure class="highlight markdown"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="code">`代码内容`</span></span><br></pre></td></tr></tbody></table></figure><p><strong>代码块：</strong></p><p>代码之间分别用三个反引号包起来，且两边的反引号单独占一行</p><figure class="highlight markdown"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="code">```cpp</span></span><br><span class="line"><span class="code"># include &lt;iostream&gt;</span></span><br><span class="line"><span class="code">```</span></span><br></pre></td></tr></tbody></table></figure><p>三点后输入语言名称获得高亮功能。</p><p>里面若有代码内容，即 <code>```</code>，需要输入四个点防止匹配错误：<code>````</code>。</p><p><strong>Typora 快捷键：</strong></p><p>行内代码: Ctrl+Shift+`</p><p>多行代码: Ctrl+Shift+K</p><p><strong>diff 显示：</strong></p><p>语言名称填写 <code>diff</code>：</p><figure class="highlight diff"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="addition">+ 人闲桂花落，</span></span><br><span class="line"><span class="deletion">- 夜静春山空。</span></span><br><span class="line"><span class="addition">! 月出惊山鸟，</span></span><br><span class="line"># 时鸣春涧中。</span><br></pre></td></tr></tbody></table></figure><h3 id="流程图">流程图</h3><p>示例：</p><figure class="highlight markdown"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="code">```flow</span></span><br><span class="line"><span class="code">st=&gt;start: 开始</span></span><br><span class="line"><span class="code">op=&gt;operation: My Operation</span></span><br><span class="line"><span class="code">cond=&gt;condition: Yes or No?</span></span><br><span class="line"><span class="code">e=&gt;end</span></span><br><span class="line"><span class="code">st-&gt;op-&gt;cond</span></span><br><span class="line"><span class="code">cond(yes)-&gt;e</span></span><br><span class="line"><span class="code">cond(no)-&gt;op</span></span><br><span class="line"><span class="code">```</span></span><br></pre></td></tr></tbody></table></figure><p>效果：</p><figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">st=&gt;start: start</span><br><span class="line">op=&gt;operation: My Operation</span><br><span class="line">cond=&gt;condition: Yes or No?</span><br><span class="line">e=&gt;end</span><br><span class="line">st-&gt;op-&gt;cond</span><br><span class="line">cond(yes)-&gt;e</span><br><span class="line">cond(no)-&gt;op</span><br></pre></td></tr></tbody></table></figure><p>其他图：</p><p>1、横向流程图源码格式：</p><figure class="highlight coq"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">```mermaid</span><br><span class="line">graph LR</span><br><span class="line">A[方形] --&gt;B(圆角)</span><br><span class="line">    B --&gt; C{条件a}</span><br><span class="line">    C --&gt;|<span class="type">a</span>=<span class="number">1</span>| <span class="type">D</span>[结果<span class="number">1</span>]</span><br><span class="line">    C --&gt;|<span class="type">a</span>=<span class="number">2</span>| <span class="type">E</span>[结果<span class="number">2</span>]</span><br><span class="line">    F[横向流程图]</span><br><span class="line">```</span><br></pre></td></tr></tbody></table></figure><p>2、竖向流程图源码格式：</p><figure class="highlight coq"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">```mermaid</span><br><span class="line">graph TD</span><br><span class="line">A[方形] --&gt; B(圆角)</span><br><span class="line">    B --&gt; C{条件a}</span><br><span class="line">    C --&gt; |<span class="type">a</span>=<span class="number">1</span>| <span class="type">D</span>[结果<span class="number">1</span>]</span><br><span class="line">    C --&gt; |<span class="type">a</span>=<span class="number">2</span>| <span class="type">E</span>[结果<span class="number">2</span>]</span><br><span class="line">    F[竖向流程图]</span><br><span class="line">```</span><br></pre></td></tr></tbody></table></figure><p>3、标准流程图源码格式：</p><figure class="highlight sml"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">```flow</span><br><span class="line">st=&gt;start: 开始框</span><br><span class="line"><span class="keyword">op</span>=&gt;operation: 处理框</span><br><span class="line">cond=&gt;condition: 判断框(是或否?)</span><br><span class="line">sub1=&gt;subroutine: 子流程</span><br><span class="line">io=&gt;inputoutput: 输入输出框</span><br><span class="line">e=&gt;<span class="keyword">end</span>: 结束框</span><br><span class="line">st-&gt;<span class="keyword">op</span>-&gt;cond</span><br><span class="line">cond(yes)-&gt;io-&gt;e</span><br><span class="line">cond(no)-&gt;sub1(right)-&gt;<span class="keyword">op</span></span><br><span class="line">```</span><br></pre></td></tr></tbody></table></figure><p>4、标准流程图源码格式（横向）：</p><figure class="highlight coq"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">```flow</span><br><span class="line">st=&gt;start: 开始框</span><br><span class="line">op=&gt;operation: 处理框</span><br><span class="line">cond=&gt;condition: 判断框(是或否?)</span><br><span class="line">sub1=&gt;subroutine: 子流程</span><br><span class="line">io=&gt;inputoutput: 输入输出框</span><br><span class="line">e=&gt;<span class="keyword">end</span>: 结束框</span><br><span class="line">st(<span class="built_in">right</span>)-&gt;op(<span class="built_in">right</span>)-&gt;cond</span><br><span class="line">cond(yes)-&gt;io(<span class="built_in">bottom</span>)-&gt;e</span><br><span class="line">cond(no)-&gt;sub1(<span class="built_in">right</span>)-&gt;op</span><br><span class="line">```</span><br></pre></td></tr></tbody></table></figure><p>5、UML 时序图源码样例：</p><figure class="highlight less"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">```<span class="selector-tag">sequence</span></span><br><span class="line">对象<span class="selector-tag">A</span><span class="selector-tag">-</span>&gt;对象<span class="selector-tag">B</span>: 对象<span class="selector-tag">B</span>你好吗?（请求）</span><br><span class="line"><span class="selector-tag">Note</span> <span class="selector-tag">right</span> <span class="selector-tag">of</span> 对象<span class="selector-tag">B</span>: 对象<span class="selector-tag">B</span>的描述</span><br><span class="line"><span class="selector-tag">Note</span> <span class="selector-tag">left</span> <span class="selector-tag">of</span> 对象<span class="selector-tag">A</span>: 对象<span class="selector-tag">A</span>的描述(提示)</span><br><span class="line">对象<span class="selector-tag">B</span><span class="selector-tag">--</span>&gt;对象<span class="selector-tag">A</span>: 我很好(响应)</span><br><span class="line">对象<span class="selector-tag">A</span><span class="selector-tag">-</span>&gt;对象<span class="selector-tag">B</span>: 你真的好吗？</span><br><span class="line">```</span><br></pre></td></tr></tbody></table></figure><p>6、UML 时序图源码复杂样例：</p><figure class="highlight less"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">```<span class="selector-tag">sequence</span></span><br><span class="line"><span class="selector-tag">Title</span>: 标题：复杂使用</span><br><span class="line">对象<span class="selector-tag">A</span><span class="selector-tag">-</span>&gt;对象<span class="selector-tag">B</span>: 对象<span class="selector-tag">B</span>你好吗?（请求）</span><br><span class="line"><span class="selector-tag">Note</span> <span class="selector-tag">right</span> <span class="selector-tag">of</span> 对象<span class="selector-tag">B</span>: 对象<span class="selector-tag">B</span>的描述</span><br><span class="line"><span class="selector-tag">Note</span> <span class="selector-tag">left</span> <span class="selector-tag">of</span> 对象<span class="selector-tag">A</span>: 对象<span class="selector-tag">A</span>的描述(提示)</span><br><span class="line">对象<span class="selector-tag">B</span><span class="selector-tag">--</span>&gt;对象<span class="selector-tag">A</span>: 我很好(响应)</span><br><span class="line">对象<span class="selector-tag">B</span><span class="selector-tag">-</span>&gt;小三: 你好吗</span><br><span class="line">小三<span class="selector-tag">--</span>&gt;&gt;对象<span class="selector-tag">A</span>: 对象<span class="selector-tag">B</span>找我了</span><br><span class="line">对象<span class="selector-tag">A</span><span class="selector-tag">-</span>&gt;对象<span class="selector-tag">B</span>: 你真的好吗？</span><br><span class="line"><span class="selector-tag">Note</span> <span class="selector-tag">over</span> 小三,对象<span class="selector-tag">B</span>: 我们是朋友</span><br><span class="line"><span class="selector-tag">participant</span> <span class="selector-tag">C</span></span><br><span class="line"><span class="selector-tag">Note</span> <span class="selector-tag">right</span> <span class="selector-tag">of</span> <span class="selector-tag">C</span>: 没人陪我玩</span><br><span class="line">```</span><br></pre></td></tr></tbody></table></figure><p>7、UML 标准时序图样例：</p><figure class="highlight coq"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">```mermaid</span><br><span class="line">%% 时序图例子,-&gt; 直线，--&gt;虚线，-&gt;&gt;实线箭头</span><br><span class="line">  sequenceDiagram</span><br><span class="line">    participant 张三</span><br><span class="line">    participant 李四</span><br><span class="line">    张三-&gt;王五: 王五你好吗？</span><br><span class="line">    loop 健康检查</span><br><span class="line">        王五-&gt;王五: 与疾病战斗</span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line">    Note <span class="built_in">right</span> of 王五: 合理 食物 &lt;br/&gt;看医生...</span><br><span class="line">    李四--&gt;&gt;张三: 很好!</span><br><span class="line">    王五-&gt;李四: 你怎么样?</span><br><span class="line">    李四--&gt;王五: 很好!</span><br><span class="line">```</span><br></pre></td></tr></tbody></table></figure><p>8、甘特图样例：</p><figure class="highlight x86asm"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">```</span>mermaid</span><br><span class="line">%% 语法示例</span><br><span class="line">        gantt</span><br><span class="line">        dateFormat  YYYY-MM-<span class="built_in">DD</span></span><br><span class="line">        title 软件开发甘特图</span><br><span class="line">        <span class="meta">section</span> 设计</span><br><span class="line">        需求                      :done,    des1, <span class="number">2014</span>-<span class="number">01</span>-<span class="number">06</span>,<span class="number">2014</span>-<span class="number">01</span>-<span class="number">08</span></span><br><span class="line">        原型                      :active,  des2, <span class="number">2014</span>-<span class="number">01</span>-<span class="number">09</span>, <span class="number">3d</span></span><br><span class="line">        UI设计                     :         des3, after des2, <span class="number">5d</span></span><br><span class="line">    未来任务                     :         des4, after des3, <span class="number">5d</span></span><br><span class="line">        <span class="meta">section</span> 开发</span><br><span class="line">        学习准备理解需求                      :crit, done, <span class="number">2014</span>-<span class="number">01</span>-<span class="number">06</span>,<span class="number">24h</span></span><br><span class="line">        设计框架                             :crit, done, after des2, <span class="number">2d</span></span><br><span class="line">        开发                                 :crit, active, <span class="number">3d</span></span><br><span class="line">        未来任务                              :crit, <span class="number">5d</span></span><br><span class="line">        耍                                   :<span class="number">2d</span></span><br><span class="line">        <span class="meta">section</span> 测试</span><br><span class="line">        功能测试                              :active, a1, after des3, <span class="number">3d</span></span><br><span class="line">        压力测试                               :after a1  , <span class="number">20h</span></span><br><span class="line">        测试报告                               : <span class="number">48h</span></span><br><span class="line"><span class="string">```</span></span><br></pre></td></tr></tbody></table></figure><h3 id="公式">公式</h3><figure class="highlight markdown"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$$</span><br><span class="line">x+y=z</span><br><span class="line">$$</span><br></pre></td></tr></tbody></table></figure><p><span class="math display">\[x+y=z\]</span></p><p><strong>Typora 快捷键：</strong> Ctrl+Shift+M</p><h3 id="锚点">锚点</h3><p>示例：</p><figure class="highlight markdown"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">a</span> <span class="attr">id</span>=<span class="string">"anchor"</span>&gt;</span></span> example <span class="language-xml"><span class="tag">&lt;/<span class="name">a</span>&gt;</span></span></span><br><span class="line">[<span class="string">goto example</span>](<span class="link">#anchor</span>)</span><br></pre></td></tr></tbody></table></figure><p><a id="anchor"> example </a></p><p><a href="#anchor">goto example</a></p><h3 id="表情">表情</h3><p>Github 的 Markdown 语法支持添加 emoji 表情，输入不同的符号码（两个冒号包围的字符）可以显示出不同的表情。</p><p>比如<code>:blush:</code>，可以显示😊。</p><p>具体每一个表情的符号码，可以查询 GitHub 的官方网页 <a href="http://www.emoji-cheat-sheet.com/">http://www.emoji-cheat-sheet.com</a>。</p><h3 id="参考">参考</h3><p>https://github.com/guodongxiaren/README</p><p>https://www.runoob.com/markdown/md-advance.html</p>]]></content>
      
      
      <categories>
          
          <category> 编程 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> hexo </tag>
            
            <tag> markdown </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Hexo 常用命令</title>
      <link href="/posts/15928/"/>
      <url>/posts/15928/</url>
      
        <content type="html"><![CDATA[<p>Hexo 框架可以帮助我们快速创建一个属于自己的博客网站，熟悉 Hexo 框架提供的命令有利于我们管理博客。</p><h3 id="hexo-init">1、hexo init</h3><p><code>hexo init</code> 命令用于初始化本地文件夹为网站的根目录</p><figure class="highlight apache"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">hexo</span> init<span class="meta"> [folder]</span></span><br></pre></td></tr></tbody></table></figure><ul><li><code>folder</code> 可选参数，用以指定初始化目录的路径，若无指定则默认为当前目录</li></ul><h3 id="hexo-new">2、hexo new</h3><p><code>·hexo new</code> 命令用于新建文章，一般可以简写为 <code>hexo n</code></p><figure class="highlight gauss"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo <span class="keyword">new</span> [layout] &lt;<span class="built_in">title</span>&gt;</span><br></pre></td></tr></tbody></table></figure><ul><li><code>layout</code> 可选参数，用以指定文章类型，若无指定则默认由配置文件中的 default_layout 选项决定</li><li><code>title</code> 必填参数，用以指定文章标题，如果参数值中含有空格，则需要使用双引号包围</li></ul><h3 id="hexo-generate">3、hexo generate</h3><p><code>hexo generate</code> 命令用于生成静态文件，一般可以简写为 <code>hexo g</code></p><figure class="highlight verilog"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo <span class="keyword">generate</span></span><br></pre></td></tr></tbody></table></figure><ul><li><code>-d</code> 选项，指定生成后部署，与 <code>hexo d -g</code> 等价</li></ul><h3 id="hexo-server">4、hexo server</h3><p><code>hexo server</code> 命令用于启动本地服务器，一般可以简写为 <code>hexo s</code></p><figure class="highlight axapta"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo <span class="keyword">server</span></span><br></pre></td></tr></tbody></table></figure><ul><li><code>-p</code> 选项，指定服务器端口，默认为 4000</li><li><code>-i</code> 选项，指定服务器 IP 地址，默认为 0.0.0.0</li><li><code>-s</code> 选项，静态模式 ，仅提供 public 文件夹中的文件并禁用文件监视</li></ul><p><strong>说明</strong> ：运行服务器前需要安装 hexo-server 插件</p><figure class="highlight pgsql"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo-<span class="keyword">server</span> <span class="comment">--save</span></span><br></pre></td></tr></tbody></table></figure><h3 id="hexo-deploy">5、hexo deploy</h3><p><code>hexo deploy</code> 命令用于部署网站，一般可以简写为 <code>hexo d</code></p><figure class="highlight ebnf"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">hexo deploy</span></span><br></pre></td></tr></tbody></table></figure><ul><li><code>-g</code> 选项，指定生成后部署，与 <code>hexo g -d</code> 等价</li></ul><p><strong>说明</strong> ：部署前需要修改 **_config.yml** 配置文件，下面以 git 为例进行说明</p><figure class="highlight handlebars"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="language-xml">deploy:</span></span><br><span class="line"><span class="language-xml">type: git</span></span><br><span class="line"><span class="language-xml">repo: <span class="tag">&lt;<span class="name">repository</span> <span class="attr">url</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">branch:master</span></span><br><span class="line"><span class="language-xml">message: 自定义提交消息，默认为Site updated: </span><span class="template-variable">{{ <span class="name">now</span>(<span class="name">'YYYY-MM-DD HH:mm:ss'</span>) }}</span></span><br></pre></td></tr></tbody></table></figure><h3 id="hexo-clean">6、hexo clean</h3><p><code>hexo clean</code> 命令用于清理缓存文件，是一个比较常用的命令</p><figure class="highlight ebnf"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">hexo clean</span></span><br></pre></td></tr></tbody></table></figure><p><strong>网站显示异常时可尝试此操作</strong></p><h3 id="option">7、Option</h3><h4 id="hexo---safe">（1）hexo --safe</h4><p><code>hexo --safe</code> 表示安全模式，用于禁用加载插件和脚本</p><figure class="highlight ada"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo <span class="comment">--safe</span></span><br></pre></td></tr></tbody></table></figure><p><strong>安装新插件时遇到问题可尝试此操作</strong></p><h4 id="hexo---debug">（2）hexo --debug</h4><p><code>hexo --debug</code> 表示调试模式，用于将消息详细记录到终端和 <code>debug.log</code> 文件</p><figure class="highlight nginx"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">hexo</span> --<span class="literal">debug</span></span><br></pre></td></tr></tbody></table></figure><h4 id="hexo---silent">（3）hexo --silent</h4><p><code>hexo --silent</code> 表示静默模式，用于静默输出到终端</p><figure class="highlight ada"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo <span class="comment">--silent</span></span><br></pre></td></tr></tbody></table></figure><h3 id="参考资料">参考资料</h3><p>https://blog.csdn.net/wsmrzx/article/details/81478103</p>]]></content>
      
      
      <categories>
          
          <category> 七国 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> hexo </tag>
            
            <tag> common </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Hello World</title>
      <link href="/posts/16107/"/>
      <url>/posts/16107/</url>
      
        <content type="html"><![CDATA[<span id="more"></span><p><strong><em>立一个 flag: 我要坚持写博客！</em></strong></p>]]></content>
      
      
      <categories>
          
          <category> 七国 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> hexo </tag>
            
        </tags>
      
    </entry>
    
    
  
  
</search>
